<!DOCTYPE html>
<html lang="el">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>FIRESCENE â€“ Enhanced Wildfire Risk Assessment</title>
  <style>
    /* ==============================
       ENHANCED GLOBAL STYLES
    ============================== */
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    html, body {
      height: 100%;
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      color: #2d3748;
      line-height: 1.6;
    }

    body {
      display: flex;
      flex-direction: column;
      min-height: 100vh;
    }

    /* ==============================
       ENHANCED HEADER
    ============================== */
    header {
      background: linear-gradient(135deg, #ff6b35 0%, #f7931e 50%, #ffcc02 100%);
      color: #fff;
      padding: 15px 25px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      backdrop-filter: blur(10px);
      border-bottom: 1px solid rgba(255,255,255,0.1);
    }

    header .header-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    header .logo-group {
      display: flex;
      align-items: center;
      gap: 15px;
    }

    header .logo-group img {
      height: 45px;
      width: auto;
      filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
    }

    header .app-title {
      font-size: 1.75rem;
      font-weight: 700;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
      letter-spacing: -0.025em;
    }

    header .lang-selector {
      color: #2d3748;
      background: rgba(255,255,255,0.95);
      border: none;
      border-radius: 8px;
      padding: 8px 12px;
      font-size: 0.9rem;
      font-weight: 500;
      cursor: pointer;
      transition: all 0.3s ease;
      backdrop-filter: blur(10px);
    }

    header .lang-selector:hover {
      background: rgba(255,255,255,1);
      transform: translateY(-1px);
    }

    /* ==============================
       ENHANCED MAIN CONTAINER
    ============================== */
    .container {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 30px;
      max-width: 1400px;
      margin: 30px auto;
      padding: 0 25px;
      flex: 1;
      height: calc(100vh - 200px); /* Fixed height for proper display */
    }

    /* ==============================
       ENHANCED INPUT PANEL
    ============================== */
    .inputs {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      padding: 30px;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      max-height: 100%;
      overflow-y: auto;
      scrollbar-width: thin;
      scrollbar-color: #cbd5e0 transparent;
    }

    .inputs::-webkit-scrollbar {
      width: 6px;
    }

    .inputs::-webkit-scrollbar-track {
      background: transparent;
    }

    .inputs::-webkit-scrollbar-thumb {
      background: #cbd5e0;
      border-radius: 3px;
    }

    .section {
      margin-bottom: 25px;
      padding: 15px;
      background: rgba(255,255,255,0.6);
      border-radius: 15px;
      border-left: 4px solid;
      transition: all 0.3s ease;
    }

    .section:nth-child(1) { border-left-color: #e53e3e; }
    .section:nth-child(2) { border-left-color: #dd6b20; }
    .section:nth-child(3) { border-left-color: #3182ce; }

    .section:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }

    .section h2 {
      margin-bottom: 15px;
      font-size: 1.2rem;
      font-weight: 600;
      color: #2d3748;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .section h2::before {
      content: '';
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: currentColor;
    }

    /* ==============================
       ENHANCED SLIDER CONTROLS
    ============================== */
    .slider-group {
      margin-bottom: 20px;
      position: relative;
      padding: 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .slider-group:hover {
      background: rgba(255,255,255,0.9);
      transform: translateX(2px);
    }

    .slider-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      color: #2d3748;
      font-size: 0.9rem;
    }

    .slider-group input[type="range"] {
      width: 100%;
      height: 8px;
      border-radius: 4px;
      background: linear-gradient(to right, #e2e8f0, #cbd5e0);
      outline: none;
      cursor: pointer;
      margin: 8px 0;
      -webkit-appearance: none;
      transition: all 0.3s ease;
    }

    .slider-group input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 18px;
      height: 18px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%;
      cursor: pointer;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
      transition: all 0.3s ease;
    }

    .slider-group input[type="range"]::-webkit-slider-thumb:hover {
      transform: scale(1.1);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }

    .slider-group input[type="range"]::-moz-range-thumb {
      width: 18px;
      height: 18px;
      background: linear-gradient(135deg, #667eea, #764ba2);
      border-radius: 50%;
      cursor: pointer;
      border: none;
      box-shadow: 0 2px 8px rgba(0,0,0,0.2);
    }

    .slider-group .slider-value {
      text-align: right;
      font-size: 0.85rem;
      font-weight: 600;
      color: #4a5568;
      margin-top: 4px;
      padding: 4px 8px;
      background: rgba(102, 126, 234, 0.1);
      border-radius: 6px;
      display: inline-block;
      min-width: 55px;
    }

    /* ==============================
       ENHANCED DROPDOWN CONTROLS
    ============================== */
    .dropdown-group {
      margin-bottom: 20px;
      padding: 12px;
      background: rgba(255,255,255,0.7);
      border-radius: 12px;
      transition: all 0.3s ease;
    }

    .dropdown-group:hover {
      background: rgba(255,255,255,0.9);
      transform: translateX(2px);
    }

    .dropdown-group label {
      display: block;
      font-weight: 600;
      margin-bottom: 6px;
      color: #2d3748;
      font-size: 0.9rem;
    }

    .dropdown-group select {
      width: 100%;
      padding: 10px 14px;
      border: 2px solid #e2e8f0;
      border-radius: 10px;
      background: rgba(255,255,255,0.9);
      cursor: pointer;
      font-size: 0.85rem;
      font-weight: 500;
      transition: all 0.3s ease;
      color: #2d3748;
    }

    .dropdown-group select:focus {
      outline: none;
      border-color: #667eea;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
    }

    .dropdown-group select:hover {
      border-color: #cbd5e0;
    }

    /* ==============================
       ENHANCED TOOLTIPS
    ============================== */
    .tooltip {
      position: relative;
      display: inline-block;
      width: 100%;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 300px;
      background: linear-gradient(135deg, #2d3748, #4a5568);
      color: #fff;
      text-align: left;
      border-radius: 12px;
      padding: 15px;
      position: absolute;
      z-index: 1000;
      bottom: 130%;
      left: 50%;
      transform: translateX(-50%);
      font-size: 0.85rem;
      opacity: 0;
      pointer-events: none;
      white-space: pre-line;
      transition: all 0.3s ease;
      box-shadow: 0 8px 25px rgba(0,0,0,0.2);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.1);
    }

    .tooltip .tooltiptext::after {
      content: "";
      position: absolute;
      top: 100%;
      left: 50%;
      margin-left: -8px;
      border-width: 8px;
      border-style: solid;
      border-color: #2d3748 transparent transparent transparent;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
      transform: translateX(-50%) translateY(-5px);
    }

    /* ==============================
       ENHANCED OUTPUT PANEL
    ============================== */
    .output-container {
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      padding: 20px;
      border-radius: 20px;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1);
      border: 1px solid rgba(255,255,255,0.2);
      height: 100%;
      overflow-y: auto;
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .bar-container {
      flex: 1;
      min-height: 0;
      padding: 15px;
      background: rgba(255,255,255,0.6);
      border-radius: 15px;
      transition: all 0.3s ease;
      border: 1px solid rgba(255,255,255,0.3);
      display: flex;
      flex-direction: column;
    }

    .bar-container:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 20px rgba(0,0,0,0.12);
      background: rgba(255,255,255,0.8);
    }

    .bar-container h3 {
      margin-bottom: 10px;
      font-size: 1rem;
      font-weight: 600;
      color: #2d3748;
      cursor: pointer;
      display: flex;
      align-items: center;
      gap: 8px;
      transition: all 0.3s ease;
    }

    .bar-container h3:hover {
      color: #667eea;
      transform: translateX(2px);
    }

    .bar-track {
      position: relative;
      width: 100%;
      height: 25px;
      background: linear-gradient(to right, #f7fafc, #edf2f7);
      border-radius: 12px;
      overflow: hidden;
      margin-bottom: 6px;
      box-shadow: inset 0 2px 4px rgba(0,0,0,0.06);
      border: 1px solid rgba(255,255,255,0.5);
    }

    .bar-fill {
      position: absolute;
      left: 0;
      top: 0;
      height: 100%;
      width: 0%;
      border-radius: 12px;
      transition: all 0.6s cubic-bezier(0.4, 0, 0.2, 1);
      position: relative;
      overflow: hidden;
    }

    .bar-fill::before {
      content: '';
      position: absolute;
      top: 0;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
      animation: shimmer 2s infinite;
    }

    @keyframes shimmer {
      0% { left: -100%; }
      100% { left: 100%; }
    }

    .bar-label {
      position: absolute;
      top: 50%;
      right: 8px;
      transform: translateY(-50%);
      font-size: 0.8rem;
      font-weight: 700;
      color: #fff;
      text-shadow: 0 1px 3px rgba(0,0,0,0.8);
      z-index: 10;
    }

    .bar-marker {
      position: relative;
      width: 100%;
      height: 15px;
      margin-top: -1px;
    }

    .marker {
      position: absolute;
      font-size: 1.2rem;
      line-height: 0;
      color: #2d3748;
      transform: translateX(-50%);
      user-select: none;
      transition: all 0.3s ease;
      filter: drop-shadow(0 1px 2px rgba(0,0,0,0.2));
    }

    /* ==============================
       ENHANCED COLOR SCHEMES
    ============================== */
    /* Danger Classes */
    .danger-class-1 {
      background: linear-gradient(135deg, #48bb78, #38a169);
      box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
    }
    .danger-class-2 {
      background: linear-gradient(135deg, #ecc94b, #d69e2e);
      box-shadow: 0 4px 15px rgba(236, 201, 75, 0.3);
    }
    .danger-class-3 {
      background: linear-gradient(135deg, #ed8936, #dd6b20);
      box-shadow: 0 4px 15px rgba(237, 137, 54, 0.3);
    }
    .danger-class-4 {
      background: linear-gradient(135deg, #e53e3e, #c53030);
      box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3);
    }
    .danger-class-5 {
      background: linear-gradient(135deg, #9c1a1c, #742a2a);
      box-shadow: 0 4px 15px rgba(156, 26, 28, 0.3);
    }

    /* Exposure Classes */
    .expclass-1 {
      background: linear-gradient(135deg, #48bb78, #38a169);
      box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
    }
    .expclass-2 {
      background: linear-gradient(135deg, #ecc94b, #d69e2e);
      box-shadow: 0 4px 15px rgba(236, 201, 75, 0.3);
    }
    .expclass-3 {
      background: linear-gradient(135deg, #e53e3e, #c53030);
      box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3);
    }

    /* Vulnerability Classes */
    .vulnclass-1 {
      background: linear-gradient(135deg, #48bb78, #38a169);
      box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
    }
    .vulnclass-2 {
      background: linear-gradient(135deg, #ecc94b, #d69e2e);
      box-shadow: 0 4px 15px rgba(236, 201, 75, 0.3);
    }
    .vulnclass-3 {
      background: linear-gradient(135deg, #e53e3e, #c53030);
      box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3);
    }

    /* New Classes (Ignition & Propagation) */
    .newclass-1 {
      background: linear-gradient(135deg, #48bb78, #38a169);
      box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
    }
    .newclass-2 {
      background: linear-gradient(135deg, #ecc94b, #d69e2e);
      box-shadow: 0 4px 15px rgba(236, 201, 75, 0.3);
    }
    .newclass-3 {
      background: linear-gradient(135deg, #e53e3e, #c53030);
      box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3);
    }

    /* Combined Risk Classes */
    .riskclass-1 {
      background: linear-gradient(135deg, #3182ce, #2c5282);
      box-shadow: 0 4px 15px rgba(49, 130, 206, 0.3);
    }
    .riskclass-2 {
      background: linear-gradient(135deg, #48bb78, #38a169);
      box-shadow: 0 4px 15px rgba(72, 187, 120, 0.3);
    }
    .riskclass-3 {
      background: linear-gradient(135deg, #ecc94b, #d69e2e);
      box-shadow: 0 4px 15px rgba(236, 201, 75, 0.3);
    }
    .riskclass-4 {
      background: linear-gradient(135deg, #ed8936, #dd6b20);
      box-shadow: 0 4px 15px rgba(237, 137, 54, 0.3);
    }
    .riskclass-5 {
      background: linear-gradient(135deg, #e53e3e, #c53030);
      box-shadow: 0 4px 15px rgba(229, 62, 62, 0.3);
    }

    /* ==============================
       ENHANCED FOOTER
    ============================== */
    footer {
      background: linear-gradient(135deg, #f8fafc, #e2e8f0);
      border-top: 3px solid #e53e3e;
      padding: 15px 25px;
      margin-top: auto;
      backdrop-filter: blur(10px);
    }

    footer .footer-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      flex-wrap: wrap;
      gap: 20px;
      font-size: 0.85rem;
    }

    footer .footer-logos {
      display: flex;
      align-items: center;
      gap: 20px;
    }

    footer .footer-logos img {
      height: 40px;
      width: auto;
      object-fit: contain;
      transition: all 0.3s ease;
    }

    footer .footer-logos img:hover {
      transform: scale(1.05);
    }

    footer .footer-content a {
      color: #e53e3e;
      text-decoration: none;
      font-weight: 600;
      transition: all 0.3s ease;
    }

    footer .footer-content a:hover {
      color: #c53030;
      text-decoration: underline;
    }

    /* ==============================
       WEIGHT CONTROL STYLING
    ============================== */
    .weight-control {
      margin-top: 8px;
      padding: 6px 10px;
      background: rgba(102, 126, 234, 0.1);
      border-radius: 8px;
      font-size: 0.8rem;
    }

    .weight-control label {
      display: flex;
      align-items: center;
      gap: 8px;
      font-weight: 500;
      color: #4a5568;
    }

    .weight-control input[type="range"] {
      flex: 1;
      height: 4px;
      background: linear-gradient(to right, #e2e8f0, #cbd5e0);
      border-radius: 2px;
    }

    .weight-control input[type="range"]::-webkit-slider-thumb {
      width: 12px;
      height: 12px;
      background: #667eea;
      border-radius: 50%;
    }

    .weight-control span {
      min-width: 30px;
      font-weight: 600;
      color: #667eea;
    }

    /* ==============================
       RESPONSIVE DESIGN
    ============================== */
    @media (max-width: 1200px) {
      .container {
        grid-template-columns: 1fr;
        gap: 20px;
        height: auto;
      }

      .output-container {
        height: auto;
        max-height: 70vh;
      }
    }

    @media (max-width: 768px) {
      .container {
        margin: 20px auto;
        padding: 0 15px;
      }

      .inputs, .output-container {
        padding: 15px;
        border-radius: 15px;
      }

      .section {
        padding: 12px;
        margin-bottom: 15px;
      }

      header .header-content {
        flex-direction: column;
        gap: 15px;
      }

      header .app-title {
        font-size: 1.4rem;
        text-align: center;
      }
    }

    /* ==============================
       ANIMATION ENHANCEMENTS
    ============================== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .section {
      animation: fadeInUp 0.6s ease-out;
    }

    .bar-container {
      animation: fadeInUp 0.8s ease-out;
    }

    .bar-container:nth-child(1) { animation-delay: 0.1s; }
    .bar-container:nth-child(2) { animation-delay: 0.2s; }
    .bar-container:nth-child(3) { animation-delay: 0.3s; }
    .bar-container:nth-child(4) { animation-delay: 0.4s; }
    .bar-container:nth-child(5) { animation-delay: 0.5s; }
    .bar-container:nth-child(6) { animation-delay: 0.6s; }

    /* ==============================
       ACCESSIBILITY IMPROVEMENTS
    ============================== */
    *:focus {
      outline: 2px solid #667eea;
      outline-offset: 2px;
    }

    .slider-group input[type="range"]:focus {
      outline: none;
      box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.3);
    }

    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Custom modal styles */
    .custom-modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.6);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(5px);
      font-family: 'Inter', sans-serif;
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: scale(0.9) translateY(-20px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
  </style>
</head>
<body>
 
<header>
    <div class="header-content">
      <div class="logo-group">
        <img src="fire-scene_logo.png" alt="Firescene Logo"> <div class="app-title" id="appTitle">Enhanced Wildfire Risk Assessment</div>
      </div>
      <select id="langSelect" class="lang-selector">
        <option value="el">Î•Î»Î»Î·Î½Î¹ÎºÎ¬</option>
        <option value="en">English</option>
        <option value="es">EspaÃ±ol</option>
        <option value="it">Italiano</option>
      </select>
    </div>
</header>

  <div class="container">

    <div class="inputs">

      <div class="section">
        <h2 id="secDangerTitle">ğŸ”¥ Î Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ ÎšÎ¹Î½Î´ÏÎ½Î¿Ï…</h2>

        <div class="slider-group tooltip">
          <label for="slope" id="lblSlope">ÎšÎ»Î¯ÏƒÎ· Î•Î´Î¬Ï†Î¿Ï…Ï‚: <span id="slope-value">0Â°</span></label>
          <input type="range" id="slope" min="0" max="60" step="1" value="0">
          <span class="tooltiptext" id="slope-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î§Î±Î¼Î·Î»ÏŒÏ‚ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚ (â‰¤ 5Â°)
ÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ­Ï„ÏÎ¹Î¿Ï‚ (5Â°â€“15Â°)
ÎšÎ»Î¬ÏƒÎ· 3: Î¥ÏˆÎ·Î»ÏŒÏ‚ (15Â°â€“30Â°)
ÎšÎ»Î¬ÏƒÎ· 4: Î Î¿Î»Ï Î¥ÏˆÎ·Î»ÏŒÏ‚ (30Â°â€“45Â°)
ÎšÎ»Î¬ÏƒÎ· 5: Î‘ÎºÏÎ±Î¯Î¿Ï‚ (> 45Â°)
          </span>
        </div>

        <div class="dropdown-group tooltip">
          <label for="aspect" id="lblAspect">Î ÏÎ¿ÏƒÎ±Î½Î±Ï„Î¿Î»Î¹ÏƒÎ¼ÏŒÏ‚ ÎšÎ»Î¯ÏƒÎ·Ï‚:</label>
          <select id="aspect"></select>
          <span class="tooltiptext" id="aspect-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î’ÏŒÏÎµÎ¹Î± - Î§Î±Î¼Î·Î»ÏŒÏ‚ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚
ÎšÎ»Î¬ÏƒÎ· 2: Î‘Î½Î±Ï„Î¿Î»Î¹ÎºÎ¬/Î”Ï…Ï„Î¹ÎºÎ¬ - ÎœÎ­Ï„ÏÎ¹Î¿Ï‚
ÎšÎ»Î¬ÏƒÎ· 3: ÎÏŒÏ„Î¹Î± - Î¥ÏˆÎ·Î»ÏŒÏ‚ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚
          </span>
        </div>

        <div class="dropdown-group tooltip">
          <label for="fuel" id="lblFuel">Î¤ÏÏ€Î¿Ï‚ & Î¦Î¿ÏÏ„Î¯Î¿ ÎšÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½:</label>
          <select id="fuel"></select>
          <span class="tooltiptext" id="fuel-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î‘ÏÎ±Î¹Î¬ Î³ÏÎ±ÏƒÎ¯Î´Î¹Î±/Ï†Ï…Î»Î»Î¿Î²ÏŒÎ»Î±
ÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ¹ÎºÏ„Î¬ Î¸Î±Î¼Î½ÏÎ´Î·
ÎšÎ»Î¬ÏƒÎ· 3: Î Ï…ÎºÎ½Î¬ Î¸Î±Î¼Î½ÏÎ´Î·
ÎšÎ»Î¬ÏƒÎ· 4: ÎšÏ‰Î½Î¿Ï†ÏŒÏÎ± Î´Î¬ÏƒÎ·
ÎšÎ»Î¬ÏƒÎ· 5: Î’Î±ÏÎ¹Î¬ ÏƒÏ…ÏƒÏƒÏÏÎµÏ…ÏƒÎ· ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="moisture" id="lblMoisture">Î¥Î³ÏÎ±ÏƒÎ¯Î± Î›ÎµÏ€Ï„ÏÎ½ ÎšÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½ (%): <span id="moisture-value">30%</span></label>
          <input type="range" id="moisture" min="0" max="100" step="1" value="30">
          <span class="tooltiptext" id="moisture-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï Î¥ÏˆÎ·Î»Î® (> 25%)
ÎšÎ»Î¬ÏƒÎ· 2: Î¥ÏˆÎ·Î»Î® (15%â€“25%)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (8%â€“15%)
ÎšÎ»Î¬ÏƒÎ· 4: Î§Î±Î¼Î·Î»Î® (4%â€“8%)
ÎšÎ»Î¬ÏƒÎ· 5: ÎšÏÎ¯ÏƒÎ¹Î¼Î· (< 4%)
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="elevation" id="lblElevation">Î¥ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (m): <span id="elevation-value">500 m</span></label>
          <input type="range" id="elevation" min="0" max="1500" step="10" value="500">
          <span class="tooltiptext" id="elevation-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î§Î±Î¼Î·Î»ÏŒ Ï…ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (0â€“500 m)
ÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ­ÏƒÎ¿ Ï…ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (500â€“1000 m)
ÎšÎ»Î¬ÏƒÎ· 3: Î¥ÏˆÎ·Î»ÏŒ Ï…ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (1000â€“1500 m)
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="windspeed" id="lblWindspeed">Î¤Î±Ï‡ÏÏ„Î·Ï„Î± Î‘Î½Î­Î¼Î¿Ï… (km/h): <span id="windspeed-value">10 km/h</span></label>
          <input type="range" id="windspeed" min="0" max="80" step="1" value="10">
          <span class="tooltiptext" id="windspeed-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î‰ÏÎµÎ¼Î¿Ï‚ (< 10 km/h)
ÎšÎ»Î¬ÏƒÎ· 2: Î•Î»Î±Ï†ÏÏÏ‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (10â€“20 km/h)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î¿Ï‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (20â€“35 km/h)
ÎšÎ»Î¬ÏƒÎ· 4: Î”Ï…Î½Î±Ï„ÏŒÏ‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (35â€“50 km/h)
ÎšÎ»Î¬ÏƒÎ· 5: Î‘ÎºÏÎ±Î¯Î¿Ï‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (> 50 km/h)
          </span>
        </div>
      </div>

      <div class="section">
        <h2 id="secExposureTitle">ğŸ˜ï¸ Î Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ ÎˆÎºÎ¸ÎµÏƒÎ·Ï‚</h2>

        <div class="slider-group tooltip">
          <label for="bld-density" id="lblBldDensity">Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± ÎšÏ„Î·ÏÎ¯Ï‰Î½ (/kmÂ²): <span id="bld-density-value">0</span></label>
          <input type="range" id="bld-density" min="0" max="2000" step="10" value="0">
          <span class="tooltiptext" id="bld-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï Î¥ÏˆÎ·Î»Î® (> 1000/kmÂ²)
ÎšÎ»Î¬ÏƒÎ· 2: Î¥ÏˆÎ·Î»Î® (500â€“1000/kmÂ²)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (200â€“500/kmÂ²)
ÎšÎ»Î¬ÏƒÎ· 4: Î§Î±Î¼Î·Î»Î® (< 200/kmÂ²)
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="pop-density" id="lblPopDensity">Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± Î Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï (Î¬Ï„Î¿Î¼Î±/kmÂ²): <span id="pop-density-value">0</span></label>
          <input type="range" id="pop-density" min="0" max="5000" step="50" value="0">
          <span class="tooltiptext" id="pop-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï Î¥ÏˆÎ·Î»Î® (> 2000/kmÂ²)
ÎšÎ»Î¬ÏƒÎ· 2: Î¥ÏˆÎ·Î»Î® (1000â€“2000/kmÂ²)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (300â€“1000/kmÂ²)
ÎšÎ»Î¬ÏƒÎ· 4: Î§Î±Î¼Î·Î»Î® (< 300/kmÂ²)
          </span>
        </div>

        <div class="dropdown-group tooltip">
          <label for="infrastructure" id="lblInfrastructure">Î‘Ï€ÎµÎ¹Î»Î¿ÏÎ¼ÎµÎ½ÎµÏ‚ Î§ÏÎ®ÏƒÎµÎ¹Ï‚:</label>
          <select id="infrastructure"></select>
          <span class="tooltiptext" id="infrastructure-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î“ÎµÏ‰ÏÎ³Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· (0-20%)
ÎšÎ»Î¬ÏƒÎ· 2: Î’Î¹Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· (20-40%)
ÎšÎ»Î¬ÏƒÎ· 3: Î”Î·Î¼ÏŒÏƒÎ¹ÎµÏ‚ & Î•Î¼Ï€Î¿ÏÎ¹ÎºÎ­Ï‚ Ï‡ÏÎ®ÏƒÎµÎ¹Ï‚ (40-60%)
ÎšÎ»Î¬ÏƒÎ· 4: ÎÎ¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î±, Î£Ï‡Î¿Î»ÎµÎ¯Î±, ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±, Î“Î·ÏÎ¿ÎºÎ¿Î¼ÎµÎ¯Î± (100%)
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="dist-settlement" id="lblDistSettlement">Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· Î±Ï€ÏŒ ÎŸÎ¹ÎºÎ¹ÏƒÎ¼ÏŒ (m): <span id="dist-settlement-value">0 m</span></label>
          <input type="range" id="dist-settlement" min="0" max="2000" step="50" value="0">
          <span class="tooltiptext" id="sett-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï ÎšÎ¿Î½Ï„Î¬ (< 100 m)
ÎšÎ»Î¬ÏƒÎ· 2: ÎšÎ¿Î½Ï„Î¬ (100â€“300 m)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (300â€“1000 m)
ÎšÎ»Î¬ÏƒÎ· 4: ÎœÎ±ÎºÏÎ¹Î¬ (> 1000 m)
          </span>
        </div>
      </div>

      <div class="section">
        <h2 id="secVulnTitle">ğŸ›¡ï¸ Î Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚</h2>

        <div class="dropdown-group tooltip">
          <label for="emergency-response" id="lblEmergencyResponse">Î™ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± Î‘Î½Ï„Î¯Î´ÏÎ±ÏƒÎ·Ï‚:</label>
          <select id="emergency-response"></select>
          <span class="tooltiptext" id="emergency-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î†ÏÎ¹ÏƒÏ„Î· (< 15 Î»ÎµÏ€Ï„Î¬ Î±Î½Ï„Î¯Î´ÏÎ±ÏƒÎ·Ï‚)
ÎšÎ»Î¬ÏƒÎ· 2: ÎšÎ±Î»Î® (15â€“30 Î»ÎµÏ€Ï„Î¬)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (30â€“45 Î»ÎµÏ€Ï„Î¬)
ÎšÎ»Î¬ÏƒÎ· 4: ÎšÎ±ÎºÎ® (> 45 Î»ÎµÏ€Ï„Î¬)
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="road-access" id="lblRoadAccess">Î ÏÎ¿ÏƒÎ²Î±ÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î± ÎŸÎ´Î¹ÎºÎ¿Ï Î”Î¹ÎºÏ„ÏÎ¿Ï… (0-10): <span id="road-access-value">5</span></label>
          <input type="range" id="road-access" min="0" max="10" step="0.5" value="5">
          <span class="tooltiptext" id="roadaccess-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î†ÏÎ¹ÏƒÏ„Î· Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (> 8)
ÎšÎ»Î¬ÏƒÎ· 2: ÎšÎ±Î»Î® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (6â€“8)
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (4â€“6)
ÎšÎ»Î¬ÏƒÎ· 4: ÎšÎ±ÎºÎ® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (< 4)
          </span>
        </div>

        <div class="dropdown-group tooltip">
          <label for="struc-quality" id="lblStruc">Î Î¿Î¹ÏŒÏ„Î·Ï„Î± ÎšÎ±Ï„Î±ÏƒÎºÎµÏ…ÏÎ½:</label>
          <select id="struc-quality"></select>
          <span class="tooltiptext" id="struc-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î Ï…ÏÎ¿Î±Î½Î¸ÎµÎºÏ„Î¹ÎºÎ¬ Ï…Î»Î¹ÎºÎ¬, Î±Î¼Ï…Î½Ï„Î¹ÎºÏŒÏ‚ Ï‡ÏÏÎ¿Ï‚
ÎšÎ»Î¬ÏƒÎ· 2: Î¤Ï…Ï€Î¹ÎºÎ® ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®, ÎºÎ¬Ï€Î¿Î¹Î± Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î±
ÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ¹ÎºÏ„Î® Ï€Î¿Î¹ÏŒÏ„Î·Ï„Î± ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚
ÎšÎ»Î¬ÏƒÎ· 4: Î•Ï…Î¬Î»Ï‰Ï„Î· ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®, Ï‡Ï‰ÏÎ¯Ï‚ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î±
          </span>
        </div>

        <div class="dropdown-group tooltip">
          <label for="water-supply" id="lblWaterSupply">Î¥Î´ÏÎ¿Î»Î·ÏˆÎ¯Î± ÎºÎ±Î¹ Î”Î¯ÎºÏ„Ï…Î¿:</label>
          <select id="water-supply"></select>
          <span class="tooltiptext" id="water-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î•Ï€Î±ÏÎºÎµÎ¯Ï‚ ÎºÏÎ¿Ï…Î½Î¿Î¯, Ï…ÏˆÎ·Î»Î® Ï€Î¯ÎµÏƒÎ·
ÎšÎ»Î¬ÏƒÎ· 2: Î ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î¿Î¹ ÎºÏÎ¿Ï…Î½Î¿Î¯, ÎµÏ€Î±ÏÎºÎ®Ï‚ Ï€Î¯ÎµÏƒÎ·
ÎšÎ»Î¬ÏƒÎ· 3: Î›Î¯Î³Î¿Î¹ ÎºÏÎ¿Ï…Î½Î¿Î¯, Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î® Ï€Î¯ÎµÏƒÎ·
ÎšÎ»Î¬ÏƒÎ· 4: Î§Ï‰ÏÎ¯Ï‚ ÎºÏÎ¿Ï…Î½Î¿ÏÏ‚, Î±Î½ÎµÏ€Î±ÏÎºÎ®Ï‚ Ï€Î±ÏÎ¿Ï‡Î®
          </span>
        </div>

        <div class="slider-group tooltip">
          <label for="socio-vuln" id="lblSocio">Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎšÎ¿Î¹Î½Ï‰Î½Î¹ÎºÎ¿-Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ®Ï‚ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚ (%): <span id="socio-vuln-value">0%</span></label>
          <input type="range" id="socio-vuln" min="0" max="100" step="1" value="0">
          <span class="tooltiptext" id="socio-vuln-tooltip">
ÎšÎ»Î¬ÏƒÎ· 1: Î§Î±Î¼Î·Î»Î® Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (< 25%)
ÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ­Ï„ÏÎ¹Î± Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (25%â€“50%)
ÎšÎ»Î¬ÏƒÎ· 3: Î¥ÏˆÎ·Î»Î® Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (50%â€“75%)
ÎšÎ»Î¬ÏƒÎ· 4: Î Î¿Î»Ï Ï…ÏˆÎ·Î»Î® Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (> 75%)
          </span>
        </div>
      </div>

    </div> <div class="output-container">

      <div class="bar-container">
        <h3 id="danger-title">ğŸ”¥ğŸ“Š Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎšÎ¹Î½Î´ÏÎ½Î¿Ï… Î Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚</h3>
        <div class="bar-track">
          <div id="danger-fill" class="bar-fill danger-class-1"></div>
          <span id="danger-label" class="bar-label">0%</span>
        </div>
        <div class="bar-marker"><span id="danger-marker" class="marker">â–²</span></div>
        <div class="weight-control">
          <label><span id="weight-label-1">Î’Î¬ÏÎ¿Ï‚:</span> <input type="range" id="hazard-weight" min="0" max="100" value="25" step="0.5"> <span id="hazard-weight-val">25.0%</span></label>
        </div>
      </div>

      <div class="bar-container">
        <h3 id="exposure-title">ğŸ˜ï¸ğŸ“Š Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎˆÎºÎ¸ÎµÏƒÎ·Ï‚</h3>
        <div class="bar-track">
          <div id="exposure-fill" class="bar-fill expclass-1"></div>
          <span id="exposure-label" class="bar-label">0%</span>
        </div>
        <div class="bar-marker"><span id="exposure-marker" class="marker">â–²</span></div>
        <div class="weight-control">
          <label><span id="weight-label-2">Î’Î¬ÏÎ¿Ï‚:</span> <input type="range" id="exposure-weight" min="0" max="100" value="25" step="0.5"> <span id="exposure-weight-val">25.0%</span></label>
        </div>
      </div>

      <div class="bar-container">
        <h3 id="vulnerability-title">ğŸ›¡ï¸ğŸ“Š Î”ÎµÎ¯ÎºÏ„Î·Ï‚ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚</h3>
        <div class="bar-track">
          <div id="vulnerability-fill" class="bar-fill vulnclass-1"></div>
          <span id="vulnerability-label" class="bar-label">0%</span>
        </div>
        <div class="bar-marker"><span id="vulnerability-marker" class="marker">â–²</span></div>
        <div class="weight-control">
          <label><span id="weight-label-3">Î’Î¬ÏÎ¿Ï‚:</span> <input type="range" id="vulnerability-weight" min="0" max="100" value="25" step="0.5"> <span id="vulnerability-weight-val">25.0%</span></label>
        </div>
      </div>

      <div class="bar-container">
        <h3 id="ignition-title">âš¡ğŸ“Š Î Î¹Î¸Î±Î½ÏŒÏ„Î·Ï„Î± Î‘Î½Î¬Ï†Î»ÎµÎ¾Î·Ï‚</h3>
        <div class="bar-track">
          <div id="ignition-fill" class="bar-fill newclass-1"></div>
          <span id="ignition-label" class="bar-label">0%</span>
        </div>
        <div class="bar-marker"><span id="ignition-marker" class="marker">â–²</span></div>
        <div class="weight-control">
          <label><span id="weight-label-4">Î’Î¬ÏÎ¿Ï‚:</span> <input type="range" id="ignition-weight" min="0" max="100" value="12.5" step="0.5"> <span id="ignition-weight-val">12.5%</span></label>
        </div>
      </div>

      <div class="bar-container">
        <h3 id="propagation-title">ğŸŒ‹ğŸ“Š Î”Ï…Î½Î±Î¼Î¹ÎºÏŒ Î•Î¾Î¬Ï€Î»Ï‰ÏƒÎ·Ï‚ Î Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚</h3>
        <div class="bar-track">
          <div id="propagation-fill" class="bar-fill newclass-1"></div>
          <span id="propagation-label" class="bar-label">0%</span>
        </div>
        <div class="bar-marker"><span id="propagation-marker" class="marker">â–²</span></div>
        <div class="weight-control">
          <label><span id="weight-label-5">Î’Î¬ÏÎ¿Ï‚:</span> <input type="range" id="propagation-weight" min="0" max="100" value="12.5" step="0.5"> <span id="propagation-weight-val">12.5%</span></label>
        </div>
      </div>

      <div class="bar-container">
        <h3 id="risk-title">âš ï¸ğŸ“Š ÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î¿Ï‚ Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎšÎ¹Î½Î´ÏÎ½Î¿Ï…</h3>
        <div class="bar-track">
          <div id="risk-fill" class="bar-fill riskclass-1"></div>
          <span id="risk-label" class="bar-label">0%</span>
        </div>
        <div class="bar-marker"><span id="risk-marker" class="marker">â–²</span></div>
      </div>

    </div> </div> <footer>
    <div class="footer-content">
      <div class="footer-logos">
        <img src="eu_flag_funding.png" alt="EU Flag Funding">
        <img src="firescene_partners_logos.jpg" alt="Disaster Resilience">
      </div>
      <div>
        <a href="https://civil-protection-knowledge-network.europa.eu/projects/fire-scene" target="_blank">
          DG ECHO-UCPKN: Firescene project
        </a>
      </div>
    </div>
  </footer>

  <script>
    /**********************************************
     * 1) ENHANCED DOM REFERENCES
    **********************************************/
    const langSelect = document.getElementById('langSelect');
    const appTitle = document.getElementById('appTitle');

    // Section titles & labels
    const secDangerTitle = document.getElementById('secDangerTitle');
    const lblSlope = document.getElementById('lblSlope');
    const lblAspect = document.getElementById('lblAspect');
    const lblFuel = document.getElementById('lblFuel');
    const lblMoisture = document.getElementById('lblMoisture');
    const lblElevation = document.getElementById('lblElevation');
    const lblWindspeed = document.getElementById('lblWindspeed');

    const secExposureTitle = document.getElementById('secExposureTitle');
    const lblBldDensity = document.getElementById('lblBldDensity');
    const lblPopDensity = document.getElementById('lblPopDensity');
    const lblInfrastructure = document.getElementById('lblInfrastructure');
    const lblDistSettlement = document.getElementById('lblDistSettlement');

    const secVulnTitle = document.getElementById('secVulnTitle');
    const lblEmergencyResponse = document.getElementById('lblEmergencyResponse');
    const lblRoadAccess = document.getElementById('lblRoadAccess');
    const lblStruc = document.getElementById('lblStruc');
    const lblWaterSupply = document.getElementById('lblWaterSupply');
    const lblSocio = document.getElementById('lblSocio');

    // Enhanced sliders & dropdowns
    const slopeSlider = document.getElementById('slope');
    const moistureSlider = document.getElementById('moisture');
    const elevSlider = document.getElementById('elevation');
    const windSlider = document.getElementById('windspeed');
    const bldSlider = document.getElementById('bld-density');
    const popSlider = document.getElementById('pop-density');
    const dsSettSlider = document.getElementById('dist-settlement');
    const roadAccessSlider = document.getElementById('road-access');
    const aspectSelect = document.getElementById('aspect');
    const fuelSelect = document.getElementById('fuel');
    const infrastructureSelect = document.getElementById('infrastructure');
    const emergencySelect = document.getElementById('emergency-response');
    const strucSelect = document.getElementById('struc-quality');
    const waterSelect = document.getElementById('water-supply');
    const socioVulnSlider = document.getElementById('socio-vuln');

    // Weight control sliders
    const hazardWeightSlider = document.getElementById('hazard-weight');
    const exposureWeightSlider = document.getElementById('exposure-weight');
    const vulnWeightSlider = document.getElementById('vulnerability-weight');
    const ignitionWeightSlider = document.getElementById('ignition-weight');
    const propagationWeightSlider = document.getElementById('propagation-weight');

    // Display values
    let slopeVal = document.getElementById('slope-value');
    let moistureVal = document.getElementById('moisture-value');
    let elevVal = document.getElementById('elevation-value');
    let windVal = document.getElementById('windspeed-value');
    let bldVal = document.getElementById('bld-density-value');
    let popVal = document.getElementById('pop-density-value');
    let dsSettVal = document.getElementById('dist-settlement-value');
    let roadAccessVal = document.getElementById('road-access-value');
    let socioVulnVal = document.getElementById('socio-vuln-value');

    // Weight display values
    let hazardWeightVal = document.getElementById('hazard-weight-val');
    let exposureWeightVal = document.getElementById('exposure-weight-val');
    let vulnWeightVal = document.getElementById('vulnerability-weight-val');
    let ignitionWeightVal = document.getElementById('ignition-weight-val');
    let propagationWeightVal = document.getElementById('propagation-weight-val');

    // Output bars & labels
    const dangerFill = document.getElementById('danger-fill');
    const dangerLabel = document.getElementById('danger-label');
    const dangerMarker = document.getElementById('danger-marker');
    const exposureFill = document.getElementById('exposure-fill');
    const exposureLabel = document.getElementById('exposure-label');
    const exposureMarker = document.getElementById('exposure-marker');
    const vulnFill = document.getElementById('vulnerability-fill');
    const vulnLabel = document.getElementById('vulnerability-label');
    const vulnMarker = document.getElementById('vulnerability-marker');
    const ignitionFill = document.getElementById('ignition-fill');
    const ignitionLabel = document.getElementById('ignition-label');
    const ignitionMarker = document.getElementById('ignition-marker');
    const propagationFill = document.getElementById('propagation-fill');
    const propagationLabel = document.getElementById('propagation-label');
    const propagationMarker = document.getElementById('propagation-marker');
    const riskFill = document.getElementById('risk-fill');
    const riskLabel = document.getElementById('risk-label');
    const riskMarker = document.getElementById('risk-marker');

    /**********************************************
     * 2) ENHANCED MULTI-LANGUAGE TRANSLATIONS
    **********************************************/
    const translations = {
      el: {
        appTitle: "Î’ÎµÎ»Ï„Î¹Ï‰Î¼Î­Î½Î· Î•ÎºÏ„Î¯Î¼Î·ÏƒÎ· ÎšÎ¹Î½Î´ÏÎ½Î¿Ï… Î”Î±ÏƒÎ¹ÎºÏÎ½ Î Ï…ÏÎºÎ±Î³Î¹ÏÎ½",
        secDangerTitle: "ğŸ”¥ Î Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ ÎšÎ¹Î½Î´ÏÎ½Î¿Ï…",
        lblSlope: "ÎšÎ»Î¯ÏƒÎ· Î•Î´Î¬Ï†Î¿Ï…Ï‚:",
        lblAspect: "Î ÏÎ¿ÏƒÎ±Î½Î±Ï„Î¿Î»Î¹ÏƒÎ¼ÏŒÏ‚ ÎšÎ»Î¯ÏƒÎ·Ï‚:",
        lblFuel: "Î¤ÏÏ€Î¿Ï‚ & Î¦Î¿ÏÏ„Î¯Î¿ ÎšÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½:",
        lblMoisture: "Î¥Î³ÏÎ±ÏƒÎ¯Î± Î›ÎµÏ€Ï„ÏÎ½ ÎšÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½ (%):",
        lblElevation: "Î¥ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (m):",
        lblWindspeed: "Î¤Î±Ï‡ÏÏ„Î·Ï„Î± Î‘Î½Î­Î¼Î¿Ï… (km/h):",
        secExposureTitle: "ğŸ˜ï¸ Î Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ ÎˆÎºÎ¸ÎµÏƒÎ·Ï‚",
        lblBldDensity: "Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± ÎšÏ„Î·ÏÎ¯Ï‰Î½ (/kmÂ²):",
        lblPopDensity: "Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± Î Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï (Î¬Ï„Î¿Î¼Î±/kmÂ²):",
        lblInfrastructure: "Î‘Ï€ÎµÎ¹Î»Î¿ÏÎ¼ÎµÎ½ÎµÏ‚ Î§ÏÎ®ÏƒÎµÎ¹Ï‚:",
        lblDistSettlement: "Î‘Ï€ÏŒÏƒÏ„Î±ÏƒÎ· Î±Ï€ÏŒ ÎŸÎ¹ÎºÎ¹ÏƒÎ¼ÏŒ (m):",
        secVulnTitle: "ğŸ›¡ï¸ Î Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚",
        lblEmergencyResponse: "Î™ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± Î‘Î½Ï„Î¯Î´ÏÎ±ÏƒÎ·Ï‚:",
        lblRoadAccess: "Î ÏÎ¿ÏƒÎ²Î±ÏƒÎ¹Î¼ÏŒÏ„Î·Ï„Î± ÎŸÎ´Î¹ÎºÎ¿Ï Î”Î¹ÎºÏ„ÏÎ¿Ï… (0-10):",
        lblStruc: "Î Î¿Î¹ÏŒÏ„Î·Ï„Î± ÎšÎ±Ï„Î±ÏƒÎºÎµÏ…ÏÎ½:",
        lblWaterSupply: "Î¥Î´ÏÎ¿Î»Î·ÏˆÎ¯Î± ÎºÎ±Î¹ Î”Î¯ÎºÏ„Ï…Î¿:",
        lblSocio: "Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎšÎ¿Î¹Î½Ï‰Î½Î¹ÎºÎ¿-Î¿Î¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ®Ï‚ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚ (%):",
        dangerTitle: "ğŸ”¥ğŸ“Š Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎšÎ¹Î½Î´ÏÎ½Î¿Ï… Î Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚",
        exposureTitle: "ğŸ˜ï¸ğŸ“Š Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎˆÎºÎ¸ÎµÏƒÎ·Ï‚",
        vulnTitle: "ğŸ›¡ï¸ğŸ“Š Î”ÎµÎ¯ÎºÏ„Î·Ï‚ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚",
        ignitionTitle: "âš¡ğŸ“Š Î Î¹Î¸Î±Î½ÏŒÏ„Î·Ï„Î± Î‘Î½Î¬Ï†Î»ÎµÎ¾Î·Ï‚",
        propagationTitle: "ğŸŒ‹ğŸ“Š Î”Ï…Î½Î±Î¼Î¹ÎºÏŒ Î•Î¾Î¬Ï€Î»Ï‰ÏƒÎ·Ï‚ Î Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚",
        riskTitle: "âš ï¸ğŸ“Š ÎŸÎ»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î¿Ï‚ Î”ÎµÎ¯ÎºÏ„Î·Ï‚ ÎšÎ¹Î½Î´ÏÎ½Î¿Ï…",
        infoTitle: "Î Î»Î·ÏÎ¿Ï†Î¿ÏÎ¯ÎµÏ‚",
        weightLabel: "Î’Î¬ÏÎ¿Ï‚:",

        aspectOpts: [
          "Î’ÏŒÏÎµÎ¹Î± (ÎšÎ»Î¬ÏƒÎ· 1)",
          "Î‘Î½Î±Ï„Î¿Î»Î¹ÎºÎ¬/Î”Ï…Ï„Î¹ÎºÎ¬ (ÎšÎ»Î¬ÏƒÎ· 2)",
          "ÎÏŒÏ„Î¹Î± (ÎšÎ»Î¬ÏƒÎ· 3)"
        ],
        fuelOpts: [
          "Î ÏŒÎµÏ‚/Î Î»Î±Ï„ÏÏ†Ï…Î»Î»Î± (ÎšÎ»Î¬ÏƒÎ· 1)",
          "Î‘ÏÎ±Î¹Î¿Î¯ Î¸Î¬Î¼Î½Î¿Î¹ & Ï†ÏÏÎ³Î±Î½Î± (ÎšÎ»Î¬ÏƒÎ· 2)",
          "Î Ï…ÎºÎ½Î¿Î¯ Î¸Î¬Î¼Î½Î¿Î¹ (ÎšÎ»Î¬ÏƒÎ· 3)",
          "ÎšÏ‰Î½Î¿Ï†ÏŒÏÎ±/Î¥ÏˆÎ·Î»Î¿Î¯ Î¸Î¬Î¼Î½Î¿Î¹ (ÎšÎ»Î¬ÏƒÎ· 4)",
          "Î£Ï…Î³ÎºÎ­Î½Ï„ÏÏ‰ÏƒÎ·/Î²Î±ÏÎ¹Î¬ ÎºÎ±ÏÏƒÎ¹Î¼Î± (ÎšÎ»Î¬ÏƒÎ· 5)"
        ],
        infrastructureOpts: [
          "Î“ÎµÏ‰ÏÎ³Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· (ÎšÎ»Î¬ÏƒÎ· 1)",
          "Î’Î¹Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· (ÎšÎ»Î¬ÏƒÎ· 2)",
          "Î”Î·Î¼ÏŒÏƒÎ¹ÎµÏ‚ ÎºÎ±Î¹ Î•Î¼Ï€Î¿ÏÎ¹ÎºÎ­Ï‚ Ï‡ÏÎ®ÏƒÎµÎ¹Ï‚ (ÎšÎ»Î¬ÏƒÎ· 3)",
          "ÎÎ¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î±, Î£Ï‡Î¿Î»ÎµÎ¯Î±, ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±, Î³Î·ÏÎ¿ÎºÎ¿Î¼ÎµÎ¯Î± (ÎšÎ»Î¬ÏƒÎ· 4)"
        ],
        emergencyOpts: [
          "Î†ÏÎ¹ÏƒÏ„Î· (< 15 Î»ÎµÏ€Ï„Î¬) (ÎšÎ»Î¬ÏƒÎ· 1)",
          "ÎšÎ±Î»Î® (15â€“30 Î»ÎµÏ€Ï„Î¬) (ÎšÎ»Î¬ÏƒÎ· 2)",
          "ÎœÎ­Ï„ÏÎ¹Î± (30â€“45 Î»ÎµÏ€Ï„Î¬) (ÎšÎ»Î¬ÏƒÎ· 3)",
          "ÎšÎ±ÎºÎ® (> 45 Î»ÎµÏ€Ï„Î¬) (ÎšÎ»Î¬ÏƒÎ· 4)"
        ],
        strucOpts: [
          "Î Ï…ÏÎ¿Î±Î½Î¸ÎµÎºÏ„Î¹ÎºÎ¬ Ï…Î»Î¹ÎºÎ¬, Î±Î¼Ï…Î½Ï„Î¹ÎºÏŒÏ‚ Ï‡ÏÏÎ¿Ï‚ (ÎšÎ»Î¬ÏƒÎ· 1)",
          "Î¤Ï…Ï€Î¹ÎºÎ® ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®, ÎºÎ¬Ï€Î¿Î¹Î± Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± (ÎšÎ»Î¬ÏƒÎ· 2)",
          "ÎœÎ¹ÎºÏ„Î® Ï€Î¿Î¹ÏŒÏ„Î·Ï„Î± ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚ (ÎšÎ»Î¬ÏƒÎ· 3)",
          "Î•Ï…Î¬Î»Ï‰Ï„Î· ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®, Ï‡Ï‰ÏÎ¯Ï‚ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î± (ÎšÎ»Î¬ÏƒÎ· 4)"
        ],
        waterOpts: [
          "Î•Ï€Î±ÏÎºÎµÎ¯Ï‚ ÎºÏÎ¿Ï…Î½Î¿Î¯, Ï…ÏˆÎ·Î»Î® Ï€Î¯ÎµÏƒÎ· (ÎšÎ»Î¬ÏƒÎ· 1)",
          "Î ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î¿Î¹ ÎºÏÎ¿Ï…Î½Î¿Î¯, ÎµÏ€Î±ÏÎºÎ®Ï‚ Ï€Î¯ÎµÏƒÎ· (ÎšÎ»Î¬ÏƒÎ· 2)",
          "Î›Î¯Î³Î¿Î¹ ÎºÏÎ¿Ï…Î½Î¿Î¯, Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î® Ï€Î¯ÎµÏƒÎ· (ÎšÎ»Î¬ÏƒÎ· 3)",
          "Î§Ï‰ÏÎ¯Ï‚ ÎºÏÎ¿Ï…Î½Î¿ÏÏ‚, Î±Î½ÎµÏ€Î±ÏÎºÎ®Ï‚ Ï€Î±ÏÎ¿Ï‡Î® (ÎšÎ»Î¬ÏƒÎ· 4)"
        ],

        // Tooltips
        slopeTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î§Î±Î¼Î·Î»ÏŒÏ‚ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚ (â‰¤ 5Â°)\nÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ­Ï„ÏÎ¹Î¿Ï‚ (5Â°â€“15Â°)\nÎšÎ»Î¬ÏƒÎ· 3: Î¥ÏˆÎ·Î»ÏŒÏ‚ (15Â°â€“30Â°)\nÎšÎ»Î¬ÏƒÎ· 4: Î Î¿Î»Ï Î¥ÏˆÎ·Î»ÏŒÏ‚ (30Â°â€“45Â°)\nÎšÎ»Î¬ÏƒÎ· 5: Î‘ÎºÏÎ±Î¯Î¿Ï‚ (> 45Â°)",
        aspectTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î’ÏŒÏÎµÎ¹Î± - Î§Î±Î¼Î·Î»ÏŒÏ‚ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚\nÎšÎ»Î¬ÏƒÎ· 2: Î‘Î½Î±Ï„Î¿Î»Î¹ÎºÎ¬/Î”Ï…Ï„Î¹ÎºÎ¬ - ÎœÎ­Ï„ÏÎ¹Î¿Ï‚\nÎšÎ»Î¬ÏƒÎ· 3: ÎÏŒÏ„Î¹Î± - Î¥ÏˆÎ·Î»ÏŒÏ‚ ÎºÎ¯Î½Î´Ï…Î½Î¿Ï‚",
        fuelTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î‘ÏÎ±Î¹Î¬ Î³ÏÎ±ÏƒÎ¯Î´Î¹Î±/Ï†Ï…Î»Î»Î¿Î²ÏŒÎ»Î±\nÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ¹ÎºÏ„Î¬ Î¸Î±Î¼Î½ÏÎ´Î·\nÎšÎ»Î¬ÏƒÎ· 3: Î Ï…ÎºÎ½Î¬ Î¸Î±Î¼Î½ÏÎ´Î·\nÎšÎ»Î¬ÏƒÎ· 4: ÎšÏ‰Î½Î¿Ï†ÏŒÏÎ± Î´Î¬ÏƒÎ·\nÎšÎ»Î¬ÏƒÎ· 5: Î’Î±ÏÎ¹Î¬ ÏƒÏ…ÏƒÏƒÏÏÎµÏ…ÏƒÎ· ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½",
        moistureTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï Î¥ÏˆÎ·Î»Î® (> 25%)\nÎšÎ»Î¬ÏƒÎ· 2: Î¥ÏˆÎ·Î»Î® (15%â€“25%)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (8%â€“15%)\nÎšÎ»Î¬ÏƒÎ· 4: Î§Î±Î¼Î·Î»Î® (4%â€“8%)\nÎšÎ»Î¬ÏƒÎ· 5: ÎšÏÎ¯ÏƒÎ¹Î¼Î· (< 4%)",
        elevationTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î§Î±Î¼Î·Î»ÏŒ Ï…ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (0â€“500 m)\nÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ­ÏƒÎ¿ Ï…ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (500â€“1000 m)\nÎšÎ»Î¬ÏƒÎ· 3: Î¥ÏˆÎ·Î»ÏŒ Ï…ÏˆÏŒÎ¼ÎµÏ„ÏÎ¿ (1000â€“1500 m)",
        windTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î‰ÏÎµÎ¼Î¿Ï‚ (< 10 km/h)\nÎšÎ»Î¬ÏƒÎ· 2: Î•Î»Î±Ï†ÏÏÏ‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (10â€“20 km/h)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î¿Ï‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (20â€“35 km/h)\nÎšÎ»Î¬ÏƒÎ· 4: Î”Ï…Î½Î±Ï„ÏŒÏ‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (35â€“50 km/h)\nÎšÎ»Î¬ÏƒÎ· 5: Î‘ÎºÏÎ±Î¯Î¿Ï‚ Î¬Î½ÎµÎ¼Î¿Ï‚ (> 50 km/h)",
        bldTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï Î¥ÏˆÎ·Î»Î® (> 1000/kmÂ²)\nÎšÎ»Î¬ÏƒÎ· 2: Î¥ÏˆÎ·Î»Î® (500â€“1000/kmÂ²)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (200â€“500/kmÂ²)\nÎšÎ»Î¬ÏƒÎ· 4: Î§Î±Î¼Î·Î»Î® (< 200/kmÂ²)",
        popTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï Î¥ÏˆÎ·Î»Î® (> 2000/kmÂ²)\nÎšÎ»Î¬ÏƒÎ· 2: Î¥ÏˆÎ·Î»Î® (1000â€“2000/kmÂ²)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (300â€“1000/kmÂ²)\nÎšÎ»Î¬ÏƒÎ· 4: Î§Î±Î¼Î·Î»Î® (< 300/kmÂ²)",
        infrastructureTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î“ÎµÏ‰ÏÎ³Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· (0-20%)\nÎšÎ»Î¬ÏƒÎ· 2: Î’Î¹Î¿Î¼Î·Ï‡Î±Î½Î¹ÎºÎ® Ï‡ÏÎ®ÏƒÎ· (20-40%)\nÎšÎ»Î¬ÏƒÎ· 3: Î”Î·Î¼ÏŒÏƒÎ¹ÎµÏ‚ & Î•Î¼Ï€Î¿ÏÎ¹ÎºÎ­Ï‚ Ï‡ÏÎ®ÏƒÎµÎ¹Ï‚ (40-60%)\nÎšÎ»Î¬ÏƒÎ· 4: ÎÎ¿ÏƒÎ¿ÎºÎ¿Î¼ÎµÎ¯Î±, Î£Ï‡Î¿Î»ÎµÎ¯Î±, ÎÎµÎ½Î¿Î´Î¿Ï‡ÎµÎ¯Î±, Î“Î·ÏÎ¿ÎºÎ¿Î¼ÎµÎ¯Î± (100%)",
        settTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î Î¿Î»Ï ÎšÎ¿Î½Ï„Î¬ (< 100 m)\nÎšÎ»Î¬ÏƒÎ· 2: ÎšÎ¿Î½Ï„Î¬ (100â€“300 m)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (300â€“1000 m)\nÎšÎ»Î¬ÏƒÎ· 4: ÎœÎ±ÎºÏÎ¹Î¬ (> 1000 m)",
        emergencyTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î†ÏÎ¹ÏƒÏ„Î· (< 15 Î»ÎµÏ€Ï„Î¬ Î±Î½Ï„Î¯Î´ÏÎ±ÏƒÎ·Ï‚)\nÎšÎ»Î¬ÏƒÎ· 2: ÎšÎ±Î»Î® (15â€“30 Î»ÎµÏ€Ï„Î¬)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± (30â€“45 Î»ÎµÏ€Ï„Î¬)\nÎšÎ»Î¬ÏƒÎ· 4: ÎšÎ±ÎºÎ® (> 45 Î»ÎµÏ€Ï„Î¬)",
        roadaccessTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î†ÏÎ¹ÏƒÏ„Î· Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (> 8)\nÎšÎ»Î¬ÏƒÎ· 2: ÎšÎ±Î»Î® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (6â€“8)\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ­Ï„ÏÎ¹Î± Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (4â€“6)\nÎšÎ»Î¬ÏƒÎ· 4: ÎšÎ±ÎºÎ® Ï€ÏÏŒÏƒÎ²Î±ÏƒÎ· (< 4)",
        strucTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î Ï…ÏÎ¿Î±Î½Î¸ÎµÎºÏ„Î¹ÎºÎ¬ Ï…Î»Î¹ÎºÎ¬, Î±Î¼Ï…Î½Ï„Î¹ÎºÏŒÏ‚ Ï‡ÏÏÎ¿Ï‚\nÎšÎ»Î¬ÏƒÎ· 2: Î¤Ï…Ï€Î¹ÎºÎ® ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®, ÎºÎ¬Ï€Î¿Î¹Î± Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î±\nÎšÎ»Î¬ÏƒÎ· 3: ÎœÎ¹ÎºÏ„Î® Ï€Î¿Î¹ÏŒÏ„Î·Ï„Î± ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®Ï‚\nÎšÎ»Î¬ÏƒÎ· 4: Î•Ï…Î¬Î»Ï‰Ï„Î· ÎºÎ±Ï„Î±ÏƒÎºÎµÏ…Î®, Ï‡Ï‰ÏÎ¯Ï‚ Ï€ÏÎ¿ÏƒÏ„Î±ÏƒÎ¯Î±",
        waterTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î•Ï€Î±ÏÎºÎµÎ¯Ï‚ ÎºÏÎ¿Ï…Î½Î¿Î¯, Ï…ÏˆÎ·Î»Î® Ï€Î¯ÎµÏƒÎ·\nÎšÎ»Î¬ÏƒÎ· 2: Î ÎµÏÎ¹Î¿ÏÎ¹ÏƒÎ¼Î­Î½Î¿Î¹ ÎºÏÎ¿Ï…Î½Î¿Î¯, ÎµÏ€Î±ÏÎºÎ®Ï‚ Ï€Î¯ÎµÏƒÎ·\nÎšÎ»Î¬ÏƒÎ· 3: Î›Î¯Î³Î¿Î¹ ÎºÏÎ¿Ï…Î½Î¿Î¯, Î¼ÎµÏ„Î±Î²Î»Î·Ï„Î® Ï€Î¯ÎµÏƒÎ·\nÎšÎ»Î¬ÏƒÎ· 4: Î§Ï‰ÏÎ¯Ï‚ ÎºÏÎ¿Ï…Î½Î¿ÏÏ‚, Î±Î½ÎµÏ€Î±ÏÎºÎ®Ï‚ Ï€Î±ÏÎ¿Ï‡Î®",
        socioTooltip: "ÎšÎ»Î¬ÏƒÎ· 1: Î§Î±Î¼Î·Î»Î® Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (< 25%)\nÎšÎ»Î¬ÏƒÎ· 2: ÎœÎ­Ï„ÏÎ¹Î± Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (25%â€“50%)\nÎšÎ»Î¬ÏƒÎ· 3: Î¥ÏˆÎ·Î»Î® Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (50%â€“75%)\nÎšÎ»Î¬ÏƒÎ· 4: Î Î¿Î»Ï Ï…ÏˆÎ·Î»Î® Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î± (> 75%)"
      },
      en: {
        appTitle: "Enhanced Wildfire Risk Assessment",
        secDangerTitle: "ğŸ”¥ Hazard Factors",
        lblSlope: "Terrain Slope:",
        lblAspect: "Slope Aspect:",
        lblFuel: "Fuel Type & Load:",
        lblMoisture: "Fine Fuel Moisture (%):",
        lblElevation: "Elevation (m):",
        lblWindspeed: "Wind Speed (km/h):",
        secExposureTitle: "ğŸ˜ï¸ Exposure Factors",
        lblBldDensity: "Building Density (/kmÂ²):",
        lblPopDensity: "Population Density (people/kmÂ²):",
        lblInfrastructure: "Threatened Land Uses:",
        lblDistSettlement: "Distance to Settlement (m):",
        secVulnTitle: "ğŸ›¡ï¸ Vulnerability Factors",
        lblEmergencyResponse: "Response Capability:",
        lblRoadAccess: "Road Network Accessibility (0-10):",
        lblStruc: "Building Construction Quality:",
        lblWaterSupply: "Water Source & Network:",
        lblSocio: "Socio-economic Vulnerability Index (%):",
        dangerTitle: "ğŸ”¥ğŸ“Š Fire Hazard Index",
        exposureTitle: "ğŸ˜ï¸ğŸ“Š Exposure Index",
        vulnTitle: "ğŸ›¡ï¸ğŸ“Š Vulnerability Index",
        ignitionTitle: "âš¡ğŸ“Š Ignition Probability",
        propagationTitle: "ğŸŒ‹ğŸ“Š Fire Spread Potential",
        riskTitle: "âš ï¸ğŸ“Š Integrated Wildfire Risk",
        infoTitle: "Information",
        weightLabel: "Weight:",

        aspectOpts: [
          "North-facing (Class 1)",
          "East/West-facing (Class 2)",
          "South-facing (Class 3)"
        ],
        fuelOpts: [
          "Grasses/Hardwood (Class 1)",
          "Sparse shrubs & scrubland (Class 2)",
          "Dense shrubland (Class 3)",
          "Coniferous/Tall shrubs (Class 4)",
          "Heavy fuel accumulation (Class 5)"
        ],
        infrastructureOpts: [
          "Agricultural use (Class 1)",
          "Industrial use (Class 2)",
          "Public & Commercial uses (Class 3)",
          "Hospitals, Schools, Hotels, Elderly care (Class 4)"
        ],
        emergencyOpts: [
          "Excellent (< 15 min) (Class 1)",
          "Good (15â€“30 min) (Class 2)",
          "Moderate (30â€“45 min) (Class 3)",
          "Poor (> 45 min) (Class 4)"
        ],
        strucOpts: [
          "Fire-resistant materials, defensible space (Class 1)",
          "Standard construction, some protection (Class 2)",
          "Mixed construction quality (Class 3)",
          "Vulnerable construction, no protection (Class 4)"
        ],
        waterOpts: [
          "Adequate hydrants, high pressure (Class 1)",
          "Limited hydrants, adequate pressure (Class 2)",
          "Few hydrants, adequate pressure (Class 3)",
          "No hydrants, inadequate water supply (Class 4)"
        ],

        // Tooltips
        slopeTooltip: "Class 1: Low hazard (â‰¤ 5Â°)\nClass 2: Moderate (5Â°â€“15Â°)\nClass 3: High (15Â°â€“30Â°)\nClass 4: Very High (30Â°â€“45Â°)\nClass 5: Extreme (> 45Â°)",
        aspectTooltip: "Class 1: North-facing â€“ Low hazard\nClass 2: East/West-facing â€“ Moderate\nClass 3: South-facing â€“ High hazard",
        fuelTooltip: "Class 1: Sparse grass/deciduous\nClass 2: Mixed shrubland\nClass 3: Dense shrubland\nClass 4: Coniferous forest\nClass 5: Heavy fuel accumulation",
        moistureTooltip: "Class 1: Very High (> 25%)\nClass 2: High (15%â€“25%)\nClass 3: Moderate (8%â€“15%)\nClass 4: Low (4%â€“8%)\nClass 5: Critical (< 4%)",
        elevationTooltip: "Class 1: Low elevation (0â€“500 m)\nClass 2: Medium elevation (500â€“1000 m)\nClass 3: High elevation (1000â€“1500 m)",
        windTooltip: "Class 1: Calm (< 10 km/h)\nClass 2: Light wind (10â€“20 km/h)\nClass 3: Moderate wind (20â€“35 km/h)\nClass 4: Strong wind (35â€“50 km/h)\nClass 5: Extreme wind (> 50 km/h)",
        bldTooltip: "Class 1: Very High (> 1000/kmÂ²)\nClass 2: High (500â€“1000/kmÂ²)\nClass 3: Moderate (200â€“500/kmÂ²)\nClass 4: Low (< 200/kmÂ²)",
        popTooltip: "Class 1: Very High (> 2000/kmÂ²)\nClass 2: High (1000â€“2000/kmÂ²)\nClass 3: Moderate (300â€“1000/kmÂ²)\nClass 4: Low (< 300/kmÂ²)",
        infrastructureTooltip: "Class 1: Agricultural use (0-20%)\nClass 2: Industrial use (20-40%)\nClass 3: Public & Commercial uses (40-60%)\nClass 4: Hospitals, Schools, Hotels, Elderly care (100%)",
        settTooltip: "Class 1: Very Close (< 100 m)\nClass 2: Close (100â€“300 m)\nClass 3: Moderate (300â€“1000 m)\nClass 4: Far (> 1000 m)",
        emergencyTooltip: "Class 1: Excellent (< 15 min response time)\nClass 2: Good (15â€“30 min)\nClass 3: Moderate (30â€“45 min)\nClass 4: Poor (> 45 min)",
        roadaccessTooltip: "Class 1: Excellent access (> 8)\nClass 2: Good access (6â€“8)\nClass 3: Moderate access (4â€“6)\nClass 4: Poor access (< 4)",
        strucTooltip: "Class 1: Fire-resistant materials, defensible space\nClass 2: Standard construction, some protection\nClass 3: Mixed construction quality\nClass 4: Vulnerable construction, no protection",
        waterTooltip: "Class 1: Adequate hydrants, high pressure\nClass 2: Limited hydrants, adequate pressure\nClass 3: Few hydrants, variable pressure\nClass 4: No hydrants, inadequate water supply",
        socioTooltip: "Class 1: Low vulnerability (< 25%)\nClass 2: Moderate vulnerability (25%â€“50%)\nClass 3: High vulnerability (50%â€“75%)\nClass 4: Very high vulnerability (> 75%)"
      },
      es: {
        appTitle: "EvaluaciÃ³n Mejorada de Riesgo de Incendios Forestales",
        secDangerTitle: "ğŸ”¥ Factores de Peligro",
        lblSlope: "Pendiente del Terreno:",
        lblAspect: "OrientaciÃ³n de la Ladera:",
        lblFuel: "Tipo y Carga de Combustible:",
        lblMoisture: "Humedad del Combustible Fino (%):",
        lblElevation: "ElevaciÃ³n (m):",
        lblWindspeed: "Velocidad del Viento (km/h):",
        secExposureTitle: "ğŸ˜ï¸ Factores de ExposiciÃ³n",
        lblBldDensity: "Densidad de Edificios (/kmÂ²):",
        lblPopDensity: "Densidad de PoblaciÃ³n (personas/kmÂ²):",
        lblInfrastructure: "Usos del Suelo Amenazados:",
        lblDistSettlement: "Distancia al Asentamiento (m):",
        secVulnTitle: "ğŸ›¡ï¸ Factores de Vulnerabilidad",
        lblEmergencyResponse: "Capacidad de Respuesta:",
        lblRoadAccess: "Accesibilidad de la Red Vial (0-10):",
        lblStruc: "Calidad de ConstrucciÃ³n de Edificios:",
        lblWaterSupply: "Fuente de Agua y Red:",
        lblSocio: "Ãndice de Vulnerabilidad SocioeconÃ³mica (%):",
        dangerTitle: "ğŸ”¥ğŸ“Š Ãndice de Peligro de Incendio",
        exposureTitle: "ğŸ˜ï¸ğŸ“Š Ãndice de ExposiciÃ³n",
        vulnTitle: "ğŸ›¡ï¸ğŸ“Š Ãndice de Vulnerabilidad",
        ignitionTitle: "âš¡ğŸ“Š Probabilidad de IgniciÃ³n",
        propagationTitle: "ğŸŒ‹ğŸ“Š Potencial de PropagaciÃ³n del Fuego",
        riskTitle: "âš ï¸ğŸ“Š Ãndice de Riesgo Integral",
        infoTitle: "InformaciÃ³n",
        weightLabel: "Peso:",

        aspectOpts: [
          "OrientaciÃ³n norte (Clase 1)",
          "OrientaciÃ³n este/oeste (Clase 2)",
          "OrientaciÃ³n sur (Clase 3)"
        ],
        fuelOpts: [
          "Pastos/Frondosas (Clase 1)",
          "Matorrales dispersos y matorral (Clase 2)",
          "Matorral denso (Clase 3)",
          "ConÃ­feras/Matorrales altos (Clase 4)",
          "AcumulaciÃ³n pesada de combustible (Clase 5)"
        ],
        infrastructureOpts: [
          "Uso agrÃ­cola (Clase 1)",
          "Uso industrial (Clase 2)",
          "Usos pÃºblicos y comerciales (Clase 3)",
          "Hospitales, Escuelas, Hoteles, Cuidado de ancianos (Clase 4)"
        ],
        emergencyOpts: [
          "Excelente (< 15 min) (Clase 1)",
          "Buena (15â€“30 min) (Clase 2)",
          "Moderada (30â€“45 min) (Clase 3)",
          "Pobre (> 45 min) (Clase 4)"
        ],
        strucOpts: [
          "Materiales resistentes al fuego, espacio defendible (Clase 1)",
          "ConstrucciÃ³n estÃ¡ndar, alguna protecciÃ³n (Clase 2)",
          "Calidad de construcciÃ³n mixta (Clase 3)",
          "ConstrucciÃ³n vulnerable, sin protecciÃ³n (Clase 4)"
        ],
        waterOpts: [
          "Hidrantes adecuados, alta presiÃ³n (Clase 1)",
          "Hidrantes limitados, presiÃ³n adecuada (Clase 2)",
          "Pocos hidrantes, presiÃ³n variable (Clase 3)",
          "Sin hidrantes, suministro de agua inadecuado (Clase 4)"
        ],

        // Tooltips
        slopeTooltip: "Clase 1: Peligro bajo (â‰¤ 5Â°)\nClase 2: Moderado (5Â°â€“15Â°)\nClase 3: Alto (15Â°â€“30Â°)\nClase 4: Muy Alto (30Â°â€“45Â°)\nClase 5: Extremo (> 45Â°)",
        aspectTooltip: "Clase 1: OrientaciÃ³n norte â€“ Peligro bajo\nClase 2: OrientaciÃ³n este/oeste â€“ Moderado\nClase 3: OrientaciÃ³n sur â€“ Peligro alto",
        fuelTooltip: "Clase 1: Pastos dispersos/caducifolios\nClase 2: Matorral mixto\nClase 3: Matorral denso\nClase 4: Bosque de conÃ­feras\nClase 5: AcumulaciÃ³n pesada de combustible",
        moistureTooltip: "Clase 1: Muy Alta (> 25%)\nClase 2: Alta (15%â€“25%)\nClase 3: Moderada (8%â€“15%)\nClase 4: Baja (4%â€“8%)\nClase 5: CrÃ­tica (< 4%)",
        elevationTooltip: "Clase 1: ElevaciÃ³n baja (0â€“500 m)\nClase 2: ElevaciÃ³n media (500â€“1000 m)\nClase 3: ElevaciÃ³n alta (1000â€“1500 m)",
        windTooltip: "Clase 1: Calma (< 10 km/h)\nClase 2: Viento ligero (10â€“20 km/h)\nClase 3: Viento moderado (20â€“35 km/h)\nClase 4: Viento fuerte (35â€“50 km/h)\nClase 5: Viento extremo (> 50 km/h)",
        bldTooltip: "Clase 1: Muy Alta (> 1000/kmÂ²)\nClase 2: Alta (500â€“1000/kmÂ²)\nClase 3: Moderada (200â€“500/kmÂ²)\nClase 4: Baja (< 200/kmÂ²)",
        popTooltip: "Clase 1: Muy Alta (> 2000/kmÂ²)\nClase 2: Alta (1000â€“2000/kmÂ²)\nClase 3: Moderada (300â€“1000/kmÂ²)\nClase 4: Baja (< 300/kmÂ²)",
        infrastructureTooltip: "Clase 1: Uso agrÃ­cola (0-20%)\nClase 2: Uso industrial (20-40%)\nClase 3: Usos pÃºblicos y comerciales (40-60%)\nClase 4: Hospitales, Escuelas, Hoteles, Cuidado de ancianos (100%)",
        settTooltip: "Clase 1: Muy Cerca (< 100 m)\nClase 2: Cerca (100â€“300 m)\nClase 3: Moderada (300â€“1000 m)\nClase 4: Lejos (> 1000 m)",
        emergencyTooltip: "Clase 1: Excelente (< 15 min tiempo de respuesta)\nClase 2: Buena (15â€“30 min)\nClase 3: Moderada (30â€“45 min)\nClase 4: Pobre (> 45 min)",
        roadaccessTooltip: "Clase 1: Acceso excelente (> 8)\nClase 2: Buen acceso (6â€“8)\nClase 3: Acceso moderado (4â€“6)\nClase 4: Acceso pobre (< 4)",
        strucTooltip: "Clase 1: Materiales resistentes al fuego, espacio defendible\nClase 2: ConstrucciÃ³n estÃ¡ndar, alguna protecciÃ³n\nClase 3: Calidad de construcciÃ³n mixta\nClase 4: ConstrucciÃ³n vulnerable, sin protecciÃ³n",
        waterTooltip: "Clase 1: Hidrantes adecuados, alta presiÃ³n\nClase 2: Hidrantes limitados, presiÃ³n adecuada\nClase 3: Pocos hidrantes, presiÃ³n variable\nClase 4: Sin hidrantes, suministro de agua inadecuado",
        socioTooltip: "Clase 1: Baja vulnerabilidad (< 25%)\nClase 2: Vulnerabilidad moderada (25%â€“50%)\nClase 3: Alta vulnerabilidad (50%â€“75%)\nClase 4: Muy alta vulnerabilidad (> 75%)"
      },
      it: {
        appTitle: "Valutazione Migliorata del Rischio di Incendi Boschivi",
        secDangerTitle: "ğŸ”¥ Fattori di Pericolo",
        lblSlope: "Pendenza del Terreno:",
        lblAspect: "Orientamento del Versante:",
        lblFuel: "Tipo e Carico di Combustibile:",
        lblMoisture: "UmiditÃ  del Combustibile Fine (%):",
        lblElevation: "Quota (m):",
        lblWindspeed: "VelocitÃ  del Vento (km/h):",
        secExposureTitle: "ğŸ˜ï¸ Fattori di Esposizione",
        lblBldDensity: "DensitÃ  degli Edifici (/kmÂ²):",
        lblPopDensity: "DensitÃ  della Popolazione (persone/kmÂ²):",
        lblInfrastructure: "Usi del Territorio Minacciati:",
        lblDistSettlement: "Distanza dall'Insediamento (m):",
        secVulnTitle: "ğŸ›¡ï¸ Fattori di VulnerabilitÃ ",
        lblEmergencyResponse: "CapacitÃ  di Risposta:",
        lblRoadAccess: "AccessibilitÃ  della Rete Stradale (0-10):",
        lblStruc: "QualitÃ  della Costruzione degli Edifici:",
        lblWaterSupply: "Fonte Idrica e Rete:",
        lblSocio: "Indice di VulnerabilitÃ  Socioeconomica (%):",
        dangerTitle: "ğŸ”¥ğŸ“Š Indice di Pericolo Incendio",
        exposureTitle: "ğŸ˜ï¸ğŸ“Š Indice di Esposizione",
        vulnTitle: "ğŸ›¡ï¸ğŸ“Š Indice di VulnerabilitÃ ",
        ignitionTitle: "âš¡ğŸ“Š ProbabilitÃ  di Innesco",
        propagationTitle: "ğŸŒ‹ğŸ“Š Potenziale di Propagazione del Fuoco",
        riskTitle: "âš ï¸ğŸ“Š Indice Integrato del Rischio",
        infoTitle: "Informazioni",
        weightLabel: "Peso:",

        aspectOpts: [
          "Esposto a nord (Classe 1)",
          "Esposto a est/ovest (Classe 2)",
          "Esposto a sud (Classe 3)"
        ],
        fuelOpts: [
          "Erbe/Latifoglie (Classe 1)",
          "Arbusti sparsi e macchia (Classe 2)",
          "Arbusteto denso (Classe 3)",
          "Conifere/Arbusti alti (Classe 4)",
          "Pesante accumulo di combustibile (Classe 5)"
        ],
        infrastructureOpts: [
          "Uso agricolo (Classe 1)",
          "Uso industriale (Classe 2)",
          "Usi pubblici e commerciali (Classe 3)",
          "Ospedali, Scuole, Hotel, Cura degli anziani (Classe 4)"
        ],
        emergencyOpts: [
          "Eccellente (< 15 min) (Classe 1)",
          "Buona (15â€“30 min) (Classe 2)",
          "Moderata (30â€“45 min) (Classe 3)",
          "Scarsa (> 45 min) (Classe 4)"
        ],
        strucOpts: [
          "Materiali resistenti al fuoco, spazio difendibile (Classe 1)",
          "Costruzione standard, qualche protezione (Classe 2)",
          "QualitÃ  di costruzione mista (Classe 3)",
          "Costruzione vulnerabile, nessuna protezione (Classe 4)"
        ],
        waterOpts: [
          "Idranti adeguati, alta pressione (Classe 1)",
          "Idranti limitati, pressione adeguata (Classe 2)",
          "Pochi idranti, pressione variabile (Classe 3)",
          "Nessun idrante, approvvigionamento idrico inadeguato (Classe 4)"
        ],

        // Tooltips
        slopeTooltip: "Classe 1: Pericolo basso (â‰¤ 5Â°)\nClasse 2: Moderato (5Â°â€“15Â°)\nClasse 3: Alto (15Â°â€“30Â°)\nClasse 4: Molto Alto (30Â°â€“45Â°)\nClasse 5: Estremo (> 45Â°)",
        aspectTooltip: "Classe 1: Esposto a nord â€“ Pericolo basso\nClasse 2: Esposto a est/ovest â€“ Moderato\nClasse 3: Esposto a sud â€“ Pericolo alto",
        fuelTooltip: "Classe 1: Erbe sparse/caducifoglie\nClasse 2: Macchia mista\nClasse 3: Macchia densa\nClasse 4: Foresta di conifere\nClasse 5: Pesante accumulo di combustibile",
        moistureTooltip: "Classe 1: Molto Alta (> 25%)\nClasse 2: Alta (15%â€“25%)\nClasse 3: Moderata (8%â€“15%)\nClasse 4: Bassa (4%â€“8%)\nClasse 5: Critica (< 4%)",
        elevationTooltip: "Classe 1: Quota bassa (0â€“500 m)\nClasse 2: Quota media (500â€“1000 m)\nClasse 3: Quota alta (1000â€“1500 m)",
        windTooltip: "Classe 1: Calma (< 10 km/h)\nClasse 2: Vento leggero (10â€“20 km/h)\nClasse 3: Vento moderato (20â€“35 km/h)\nClasse 4: Vento forte (35â€“50 km/h)\nClasse 5: Vento estremo (> 50 km/h)",
        bldTooltip: "Classe 1: Molto Alta (> 1000/kmÂ²)\nClasse 2: Alta (500â€“1000/kmÂ²)\nClasse 3: Moderata (200â€“500/kmÂ²)\nClasse 4: Bassa (< 200/kmÂ²)",
        popTooltip: "Classe 1: Molto Alta (> 2000/kmÂ²)\nClasse 2: Alta (1000â€“2000/kmÂ²)\nClasse 3: Moderata (300â€“1000/kmÂ²)\nClasse 4: Bassa (< 300/kmÂ²)",
        infrastructureTooltip: "Classe 1: Uso agricolo (0-20%)\nClasse 2: Uso industriale (20-40%)\nClasse 3: Usi pubblici e commerciali (40-60%)\nClasse 4: Ospedali, Scuole, Hotel, Cura degli anziani (100%)",
        settTooltip: "Classe 1: Molto Vicino (< 100 m)\nClasse 2: Vicino (100â€“300 m)\nClasse 3: Moderato (300â€“1000 m)\nClasse 4: Lontano (> 1000 m)",
        emergencyTooltip: "Classe 1: Eccellente (< 15 min tempo di risposta)\nClasse 2: Buona (15â€“30 min)\nClasse 3: Moderata (30â€“45 min)\nClasse 4: Scarsa (> 45 min)",
        roadaccessTooltip: "Classe 1: Accesso eccellente (> 8)\nClasse 2: Buon accesso (6â€“8)\nClasse 3: Accesso moderato (4â€“6)\nClasse 4: Accesso scarso (< 4)",
        strucTooltip: "Classe 1: Materiali resistenti al fuoco, spazio difendibile\nClasse 2: Costruzione standard, qualche protezione\nClasse 3: QualitÃ  di costruzione mista\nClasse 4: Costruzione vulnerabile, nessuna protezione",
        waterTooltip: "Classe 1: Idranti adeguati, alta pressione\nClasse 2: Idranti limitati, pressione adeguata\nClasse 3: Pochi idranti, pressione variabile\nClasse 4: Nessun idrante, approvvigionamento idrico inadeguato",
        socioTooltip: "Classe 1: Bassa vulnerabilitÃ  (< 25%)\nClasse 2: VulnerabilitÃ  moderata (25%â€“50%)\nClasse 3: Alta vulnerabilitÃ  (50%â€“75%)\nClasse 4: VulnerabilitÃ  molto alta (> 75%)"
      }
    };

    let currentLanguage = 'el';

    /**********************************************
     * 3) ENHANCED CLASSIFICATION FUNCTIONS
    **********************************************/

    // Improved slope classification with exponential weighting
    function slopeClass(val) {
      if (val <= 5) return 1;
      if (val <= 15) return 2;
      if (val <= 30) return 3;
      if (val <= 45) return 4;
      return 5;
    }

    // Enhanced moisture classification with critical thresholds
    function moistureClass(val) {
      if (val > 40) return 1;  // Very High (safe)
      if (val > 25) return 2;  // High
      if (val > 15) return 3;  // Moderate
      if (val > 10) return 4;  // Low (dangerous)
      return 5;                // Critical (extreme danger)
    }

    // Simplified elevation classification (3 classes, 500m intervals)
    function elevClass(val) {
      if (val <= 500) return 1;   // Low elevation (higher fire risk)
      if (val <= 1000) return 2;  // Medium elevation
      return 3;                   // High elevation (lower fire risk)
    }

    // Enhanced wind speed classification with extreme emphasis
    function windClass(val) {
      if (val < 5) return 1;       // Calm
      if (val < 10) return 2;      // Light
      if (val < 20) return 3;      // Moderate
      if (val < 40) return 4;      // Strong (dangerous)
      return 5;                    // Extreme (critical)
    }

    // Enhanced population density - higher density = higher exposure
    function popClass(val) {
      if (val > 2000) return 4;    // Very High exposure (critical)
      if (val > 1000) return 3;    // High
      if (val > 300) return 2;     // Moderate
      return 1;                    // Low
    }

    // Building density - higher density = higher exposure
    function bldClass(val) {
      if (val > 1000) return 4;    // Very High exposure
      if (val > 500) return 3;     // High
      if (val > 200) return 2;     // Moderate
      return 1;                    // Low
    }

    // Distance to settlement - closer = higher exposure
    function dsSettClass(val) {
      if (val < 100) return 4;     // Very Close (critical exposure)
      if (val < 300) return 3;     // Close
      if (val < 1000) return 2;    // Moderate
      return 1;                    // Far (low exposure)
    }

    // Road accessibility - lower = higher vulnerability
    function roadAccessClass(val) {
      if (val > 8) return 1;       // Excellent (low vulnerability)
      if (val > 6) return 2;       // Good
      if (val > 4) return 3;       // Moderate
      return 4;                    // Poor (high vulnerability)
    }

    function socioClass(val) {
      if (val < 25) return 1;
      if (val < 50) return 2;
      if (val < 75) return 3;
      return 4;
    }

    // Simple dropdown classifications
    function aspectClass(val) { return parseFloat(val); }
    function fuelClass(val) { return parseFloat(val); }
    function infrastructureClass(val) { return parseFloat(val); }
    function emergencyClass(val) { return parseFloat(val); }
    function strucClass(val) { return parseFloat(val); }
    function waterClass(val) { return parseFloat(val); }

    /**********************************************
     * 4) ENHANCED CALCULATION FUNCTIONS WITH WEIGHT NORMALIZATION
    **********************************************/

    function computeHazardScore() {
      const sC = slopeClass(parseFloat(slopeSlider.value));
      const aC = aspectClass(aspectSelect.value);
      const fC = fuelClass(parseFloat(fuelSelect.value));
      const mC = moistureClass(parseFloat(moistureSlider.value));
      const eC = elevClass(parseFloat(elevSlider.value));
      const wC = windClass(parseFloat(windSlider.value));

      // Extreme condition multipliers
      const moistureVal = parseFloat(moistureSlider.value);
      const windVal = parseFloat(windSlider.value);
      const slopeVal = parseFloat(slopeSlider.value);

      // Base calculation with enhanced weights
      let raw = sC*0.20 + aC*0.08 + fC*0.35 + mC*0.25 + eC*0.07 + wC*0.05;

      // Extreme condition bonuses
      let extremeMultiplier = 1.0;

      // Critical moisture bonus (< 10%)
      if (moistureVal < 10) extremeMultiplier += 0.5;

      // High wind bonus (> 40 km/h) - VERY aggressive
      if (windVal > 40) extremeMultiplier += 0.8;

      // Steep slope + south aspect + coniferous combination
      if (slopeVal > 15 && aC === 3 && fC >= 4) extremeMultiplier += 0.6;

      // Normalize and apply extreme multiplier
      raw = (raw / 5.0) * extremeMultiplier;

      return Math.min(raw, 1.0);
    }

    function computeExposureScore() {
      const bC = bldClass(parseFloat(bldSlider.value));
      const pC = popClass(parseFloat(popSlider.value));
      const iC = infrastructureClass(infrastructureSelect.value);
      const dsC = dsSettClass(parseFloat(dsSettSlider.value));

      // Population density has MAJOR impact on exposure
      const popVal = parseFloat(popSlider.value);
      let popWeight = 0.40; // Increased from 0.30

      // Critical infrastructure multiplier
      let infraMultiplier = 1.0;
      if (iC === 4) infraMultiplier = 2.0; // Hospitals, schools, etc.
      else if (iC === 3) infraMultiplier = 1.5; // Public/commercial

      const raw = (bC*0.15 + pC*popWeight + iC*0.25 + dsC*0.20) * infraMultiplier;
      return Math.min(raw / 4.0, 1.0);
    }

    function computeVulnerabilityScore() {
      const eC = emergencyClass(emergencySelect.value);
      const rC = roadAccessClass(parseFloat(roadAccessSlider.value));
      const sC = strucClass(strucSelect.value);
      const wC = waterClass(waterSelect.value);
      const svC = socioClass(parseFloat(socioVulnSlider.value));

      // Enhanced weights for comprehensive vulnerability assessment
      const raw = eC*0.30 + rC*0.20 + sC*0.25 + wC*0.15 + svC*0.10;
      return raw / 4.0;
    }

    function computeIgnitionProbability() {
      const fuelNorm = (fuelClass(parseFloat(fuelSelect.value)) - 1) / 4.0;
      const moistureVal = parseFloat(moistureSlider.value);
      const moistureNorm = Math.max(0, (100 - moistureVal) / 100.0);
      const windNorm = Math.min(parseFloat(windSlider.value) / 50.0, 1.0);
      const exposureScore = computeExposureScore();

      // Critical thresholds for extreme ignition probability
      let extremeBonus = 0;
      if (moistureVal < 10 && windNorm > 0.8) extremeBonus = 0.3; // Critical combo

      const base = (fuelNorm*0.35 + moistureNorm*0.40 + windNorm*0.15 + exposureScore*0.10);
      return Math.min(base + extremeBonus, 1.0);
    }

    function computeFireSpreadPotential() {
      const ignition = computeIgnitionProbability();
      const slopeVal = parseFloat(slopeSlider.value);
      const windVal = parseFloat(windSlider.value);
      const moistureVal = parseFloat(moistureSlider.value);
      const fuelVal = fuelClass(parseFloat(fuelSelect.value));

      const slopeNorm = Math.min(slopeVal / 45.0, 1.0);
      const windNorm = Math.min(windVal / 50.0, 1.0);
      const fuelNorm = (fuelVal - 1) / 4.0;
      const moistureEffect = Math.max(0, (100 - moistureVal) / 100.0);

      // Extreme fire behavior conditions
      let fireStormMultiplier = 1.0;
      if (windVal > 40 && slopeVal > 25 && moistureVal < 10) {
        fireStormMultiplier = 2.0; // Fire storm conditions
      }

      const baseSpread = ignition*0.40 + slopeNorm*0.25 + windNorm*0.20 + fuelNorm*0.15;
      return Math.min(baseSpread * fireStormMultiplier, 1.0);
    }

    function normalizeWeights(changedSlider = null) {
      const sliders = [
        { slider: hazardWeightSlider, value: parseFloat(hazardWeightSlider.value), id: 'hazard' },
        { slider: exposureWeightSlider, value: parseFloat(exposureWeightSlider.value), id: 'exposure' },
        { slider: vulnWeightSlider, value: parseFloat(vulnWeightSlider.value), id: 'vulnerability' },
        { slider: ignitionWeightSlider, value: parseFloat(ignitionWeightSlider.value), id: 'ignition' },
        { slider: propagationWeightSlider, value: parseFloat(propagationWeightSlider.value), id: 'propagation' }
      ];

      let total = sliders.reduce((sum, s) => sum + s.value, 0);
      let targetTotal = 100;

      if (total === 0) {
        // If all are zero, reset to default distribution
        const defaultWeight = targetTotal / sliders.length;
        sliders.forEach(s => s.slider.value = defaultWeight);
        return { hazard: 0.2, exposure: 0.2, vulnerability: 0.2, ignition: 0.2, propagation: 0.2 };
      }

      if (total !== targetTotal) {
        const diff = total - targetTotal;
        const changeableSliders = sliders.filter(s => s.slider !== changedSlider);

        if (changeableSliders.length > 0) {
          const currentChangeableTotal = changeableSliders.reduce((sum, s) => sum + s.value, 0);

          if (currentChangeableTotal === 0 && diff > 0) {
            // If only one slider is active and it's over 100, clamp it to 100
            if (changedSlider) changedSlider.value = targetTotal;
          } else {
            changeableSliders.forEach(s => {
              // Adjust proportionally
              let newValue = s.value - (diff * (s.value / currentChangeableTotal));
              // Ensure no negative values or values exceeding 100 (if it's the only one left)
              newValue = Math.max(0, Math.min(100, newValue));
              s.slider.value = newValue.toFixed(1); // Keep one decimal for finer adjustment
            });
          }
        }
      }

      // Read values again after potential adjustment
      const finalWeights = {
        hazard: parseFloat(hazardWeightSlider.value),
        exposure: parseFloat(exposureWeightSlider.value),
        vulnerability: parseFloat(vulnWeightSlider.value),
        ignition: parseFloat(ignitionWeightSlider.value),
        propagation: parseFloat(propagationWeightSlider.value)
      };

      const finalTotal = finalWeights.hazard + finalWeights.exposure + finalWeights.vulnerability + finalWeights.ignition + finalWeights.propagation;

      // Return normalized values for calculation
      return {
        hazard: finalWeights.hazard / finalTotal,
        exposure: finalWeights.exposure / finalTotal,
        vulnerability: finalWeights.vulnerability / finalTotal,
        ignition: finalWeights.ignition / finalTotal,
        propagation: finalWeights.propagation / finalTotal
      };
    }


    function computeIntegratedRisk() {
      const weights = normalizeWeights(); // Call normalizeWeights without a changedSlider

      const hazard = computeHazardScore();
      const exposure = computeExposureScore();
      const vulnerability = computeVulnerabilityScore();
      const ignition = computeIgnitionProbability();
      const spread = computeFireSpreadPotential();

      // Enhanced risk integration with normalized weights
      const risk = (hazard * weights.hazard) +
                   (exposure * weights.exposure) +
                   (vulnerability * weights.vulnerability) +
                   (ignition * weights.ignition) +
                   (spread * weights.propagation);

      return Math.min(risk, 1.0);
    }

    /**********************************************
     * 5) ENHANCED DISPLAY UPDATE FUNCTIONS
    **********************************************/

    function updateDisplays() {
      if (slopeVal) slopeVal.textContent = slopeSlider.value + 'Â°';
      if (moistureVal) moistureVal.textContent = moistureSlider.value + '%';
      if (elevVal) elevVal.textContent = elevSlider.value + ' m';
      if (windVal) windVal.textContent = windSlider.value + ' km/h';
      if (bldVal) bldVal.textContent = bldSlider.value;
      if (popVal) popVal.textContent = popSlider.value;
      if (dsSettVal) dsSettVal.textContent = dsSettSlider.value + ' m';
      if (roadAccessVal) roadAccessVal.textContent = roadAccessSlider.value;
      if (socioVulnVal) socioVulnVal.textContent = socioVulnSlider.value + '%';

      // Update weight displays
      if (hazardWeightVal) hazardWeightVal.textContent = parseFloat(hazardWeightSlider.value).toFixed(1) + '%';
      if (exposureWeightVal) exposureWeightVal.textContent = parseFloat(exposureWeightSlider.value).toFixed(1) + '%';
      if (vulnWeightVal) vulnWeightVal.textContent = parseFloat(vulnWeightSlider.value).toFixed(1) + '%';
      if (ignitionWeightVal) ignitionWeightVal.textContent = parseFloat(ignitionWeightSlider.value).toFixed(1) + '%';
      if (propagationWeightVal) propagationWeightVal.textContent = parseFloat(propagationWeightSlider.value).toFixed(1) + '%';
    }

    function getClassFromScore(score, numClasses = 5) {
      const normalized = Math.max(0, Math.min(1, score));
      // Distribute score across classes, ensuring the highest score maps to the highest class
      // For 5 classes: 0-0.2 -> 1, 0.2-0.4 -> 2, etc.
      // For 3 classes: 0-0.33 -> 1, 0.33-0.66 -> 2, etc.
      return Math.min(Math.floor(normalized * numClasses) + 1, numClasses);
    }

    function updateBars(event) {
      // If the event came from a weight slider, normalize weights accordingly
      if (event && event.target && event.target.id.includes('weight')) {
          normalizeWeights(event.target);
      } else {
          // Otherwise, just ensure weights sum to 100% without re-distributing
          normalizeWeights();
      }

      updateDisplays();

      const hazardScore = computeHazardScore();
      const exposureScore = computeExposureScore();
      const vulnerabilityScore = computeVulnerabilityScore();
      const ignitionScore = computeIgnitionProbability();
      const spreadScore = computeFireSpreadPotential();
      const riskScore = computeIntegratedRisk();

      const hazardPct = Math.round(hazardScore * 100);
      const exposurePct = Math.round(exposureScore * 100);
      const vulnerabilityPct = Math.round(vulnerabilityScore * 100);
      const ignitionPct = Math.round(ignitionScore * 100);
      const spreadPct = Math.round(spreadScore * 100);
      const riskPct = Math.round(riskScore * 100);

      // Update Hazard Bar
      const hazardClass = getClassFromScore(hazardScore, 5);
      dangerFill.className = 'bar-fill danger-class-' + hazardClass;
      dangerFill.style.width = hazardPct + '%';
      dangerLabel.textContent = hazardPct + '%';
      dangerMarker.style.left = hazardPct + '%';

      // Update Exposure Bar
      const exposureClass = getClassFromScore(exposureScore, 3);
      exposureFill.className = 'bar-fill expclass-' + exposureClass;
      exposureFill.style.width = exposurePct + '%';
      exposureLabel.textContent = exposurePct + '%';
      exposureMarker.style.left = exposurePct + '%';

      // Update Vulnerability Bar
      const vulnerabilityClass = getClassFromScore(vulnerabilityScore, 3);
      vulnFill.className = 'bar-fill vulnclass-' + vulnerabilityClass;
      vulnFill.style.width = vulnerabilityPct + '%';
      vulnLabel.textContent = vulnerabilityPct + '%';
      vulnMarker.style.left = vulnerabilityPct + '%';

      // Update Ignition Bar
      const ignitionClass = getClassFromScore(ignitionScore, 3);
      ignitionFill.className = 'bar-fill newclass-' + ignitionClass;
      ignitionFill.style.width = ignitionPct + '%';
      ignitionLabel.textContent = ignitionPct + '%';
      ignitionMarker.style.left = ignitionPct + '%';

      // Update Spread Bar
      const spreadClass = getClassFromScore(spreadScore, 3);
      propagationFill.className = 'bar-fill newclass-' + spreadClass;
      propagationFill.style.width = spreadPct + '%';
      propagationLabel.textContent = spreadPct + '%';
      propagationMarker.style.left = spreadPct + '%';

      // Update Risk Bar (using 5 classes from riskclass-1 to riskclass-5)
      const riskClass = getClassFromScore(riskScore, 5);
      riskFill.className = 'bar-fill riskclass-' + riskClass;
      riskFill.style.width = riskPct + '%';
      riskLabel.textContent = riskPct + '%';
      riskMarker.style.left = riskPct + '%';
    }

    /**********************************************
     * 6) ENHANCED LANGUAGE UPDATE FUNCTION
    **********************************************/

    function updateLanguage() {
      const tr = translations[currentLanguage] || translations['en'];

      // Update UI elements
      appTitle.textContent = tr.appTitle;
      secDangerTitle.innerHTML = tr.secDangerTitle;
      secExposureTitle.innerHTML = tr.secExposureTitle;
      secVulnTitle.innerHTML = tr.secVulnTitle;

      // Update labels with current values
      lblSlope.innerHTML = tr.lblSlope + ' <span id="slope-value">' + slopeSlider.value + 'Â°</span>';
      lblAspect.textContent = tr.lblAspect;
      lblFuel.textContent = tr.lblFuel;
      lblMoisture.innerHTML = tr.lblMoisture + ' <span id="moisture-value">' + moistureSlider.value + '%</span>';
      lblElevation.innerHTML = tr.lblElevation + ' <span id="elevation-value">' + elevSlider.value + ' m</span>';
      lblWindspeed.innerHTML = tr.lblWindspeed + ' <span id="windspeed-value">' + windSlider.value + ' km/h</span>';

      lblBldDensity.innerHTML = tr.lblBldDensity + ' <span id="bld-density-value">' + bldSlider.value + '</span>';
      lblPopDensity.innerHTML = tr.lblPopDensity + ' <span id="pop-density-value">' + popSlider.value + '</span>';
      lblInfrastructure.textContent = tr.lblInfrastructure;
      lblDistSettlement.innerHTML = tr.lblDistSettlement + ' <span id="dist-settlement-value">' + dsSettSlider.value + ' m</span>';

      lblEmergencyResponse.textContent = tr.lblEmergencyResponse;
      lblRoadAccess.innerHTML = tr.lblRoadAccess + ' <span id="road-access-value">' + roadAccessSlider.value + '</span>';
      lblStruc.textContent = tr.lblStruc;
      lblWaterSupply.textContent = tr.lblWaterSupply;
      lblSocio.innerHTML = tr.lblSocio + ' <span id="socio-vuln-value">' + socioVulnSlider.value + '%</span>';

      // Update output titles
      document.getElementById('danger-title').textContent = tr.dangerTitle;
      document.getElementById('exposure-title').textContent = tr.exposureTitle;
      document.getElementById('vulnerability-title').textContent = tr.vulnTitle;
      document.getElementById('ignition-title').textContent = tr.ignitionTitle;
      document.getElementById('propagation-title').textContent = tr.propagationTitle;
      document.getElementById('risk-title').textContent = tr.riskTitle;

      // Update weight labels
      const weightLabels = document.querySelectorAll('[id^="weight-label-"]');
      weightLabels.forEach(label => {
        if (label) label.textContent = tr.weightLabel;
      });

      // Update tooltips
      document.getElementById('slope-tooltip').textContent = tr.slopeTooltip;
      document.getElementById('aspect-tooltip').textContent = tr.aspectTooltip;
      document.getElementById('fuel-tooltip').textContent = tr.fuelTooltip;
      document.getElementById('moisture-tooltip').textContent = tr.moistureTooltip;
      document.getElementById('elevation-tooltip').textContent = tr.elevationTooltip;
      document.getElementById('windspeed-tooltip').textContent = tr.windTooltip;
      document.getElementById('bld-tooltip').textContent = tr.bldTooltip;
      document.getElementById('pop-tooltip').textContent = tr.popTooltip;
      document.getElementById('infrastructure-tooltip').textContent = tr.infrastructureTooltip;
      document.getElementById('sett-tooltip').textContent = tr.settTooltip;
      document.getElementById('emergency-tooltip').textContent = tr.emergencyTooltip;
      document.getElementById('roadaccess-tooltip').textContent = tr.roadaccessTooltip;
      document.getElementById('struc-tooltip').textContent = tr.strucTooltip;
      document.getElementById('water-tooltip').textContent = tr.waterTooltip;
      document.getElementById('socio-vuln-tooltip').textContent = tr.socioTooltip;

      // Update dropdown options
      aspectSelect.innerHTML = '';
      tr.aspectOpts.forEach((optText, idx) => {
        const opt = document.createElement('option');
        opt.value = (idx + 1).toString();
        opt.textContent = optText;
        aspectSelect.appendChild(opt);
      });

      fuelSelect.innerHTML = '';
      tr.fuelOpts.forEach((optText, idx) => {
        const opt = document.createElement('option');
        opt.value = (idx + 1).toString();
        opt.textContent = optText;
        fuelSelect.appendChild(opt);
      });

      infrastructureSelect.innerHTML = '';
      tr.infrastructureOpts.forEach((optText, idx) => {
        const opt = document.createElement('option');
        opt.value = (idx + 1).toString();
        opt.textContent = optText;
        infrastructureSelect.appendChild(opt);
      });

      emergencySelect.innerHTML = '';
      tr.emergencyOpts.forEach((optText, idx) => {
        const opt = document.createElement('option');
        opt.value = (idx + 1).toString();
        opt.textContent = optText;
        emergencySelect.appendChild(opt);
      });

      strucSelect.innerHTML = '';
      tr.strucOpts.forEach((optText, idx) => {
        const opt = document.createElement('option');
        opt.value = (idx + 1).toString();
        opt.textContent = optText;
        strucSelect.appendChild(opt);
      });

      waterSelect.innerHTML = '';
      tr.waterOpts.forEach((optText, idx) => {
        const opt = document.createElement('option');
        opt.value = (idx + 1).toString();
        opt.textContent = optText;
        waterSelect.appendChild(opt);
      });

      // Re-bind value display elements after DOM update
      slopeVal = document.getElementById('slope-value');
      moistureVal = document.getElementById('moisture-value');
      elevVal = document.getElementById('elevation-value');
      windVal = document.getElementById('windspeed-value');
      bldVal = document.getElementById('bld-density-value');
      popVal = document.getElementById('pop-density-value');
      dsSettVal = document.getElementById('dist-settlement-value');
      roadAccessVal = document.getElementById('road-access-value');
      socioVulnVal = document.getElementById('socio-vuln-value');

      // Re-bind weight display elements
      hazardWeightVal = document.getElementById('hazard-weight-val');
      exposureWeightVal = document.getElementById('exposure-weight-val');
      vulnWeightVal = document.getElementById('vulnerability-weight-val');
      ignitionWeightVal = document.getElementById('ignition-weight-val');
      propagationWeightVal = document.getElementById('propagation-weight-val');
    }

    /**********************************************
     * 7) CUSTOM MODAL FUNCTION
    **********************************************/

    function showCustomAlert(title, message) {
      // Remove any existing modals
      const existingModals = document.querySelectorAll('.custom-modal');
      existingModals.forEach(modal => modal.remove());

      // Create custom modal
      const modal = document.createElement('div');
      modal.className = 'custom-modal';

      const content = document.createElement('div');
      content.style.cssText = `
        background: white; padding: 25px; border-radius: 15px; max-width: 500px;
        box-shadow: 0 10px 30px rgba(0,0,0,0.3); max-height: 80vh; overflow-y: auto;
        margin: 20px; animation: modalFadeIn 0.3s ease-out;
      `;

      const closeButton = document.createElement('button');
      closeButton.textContent = 'OK';
      closeButton.style.cssText = `
        background: #667eea; color: white; border: none; padding: 12px 24px;
        border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 0.9rem;
        margin-top: 20px; transition: background 0.3s ease;
      `;

      closeButton.onmouseover = () => closeButton.style.background = '#5a67d8';
      closeButton.onmouseout = () => closeButton.style.background = '#667eea';
      closeButton.onclick = () => modal.remove();

      content.innerHTML = `
        <h3 style="margin: 0 0 15px 0; color: #2d3748; font-size: 1.25rem; font-weight: 600;">${title}</h3>
        <p style="margin: 0; line-height: 1.6; white-space: pre-line; color: #4a5568; font-size: 0.95rem;">${message}</p>
      `;

      content.appendChild(closeButton);
      modal.appendChild(content);
      document.body.appendChild(modal);

      // Close on click outside
      modal.addEventListener('click', (e) => {
        if (e.target === modal) modal.remove();
      });

      // Close on Escape key
      const handleEscape = (e) => {
        if (e.key === 'Escape') {
          modal.remove();
          document.removeEventListener('keydown', handleEscape);
        }
      };
      document.addEventListener('keydown', handleEscape);
    }

    /**********************************************
     * 8) ENHANCED EVENT LISTENERS
    **********************************************/

    function setupClickHandlers() {
      // Enhanced click explanations with properly localized popups
      document.getElementById('danger-title').addEventListener('click', () => {
        const tr = translations[currentLanguage];
        const hazardPct = Math.round(computeHazardScore() * 100);

        let message = '';
        if (currentLanguage === 'el') {
          message = `ğŸ”¥ ${tr.dangerTitle}\n\nÎ¤ÏÎ­Ï‡Î¿Î½ Score: ${hazardPct}%\n\nÎ‘Ï…Ï„ÏŒÏ‚ Î¿ Î´ÎµÎ¯ÎºÏ„Î·Ï‚ ÏƒÏ…Î½Î´Ï…Î¬Î¶ÎµÎ¹:\nâ€¢ ÎšÎ»Î¯ÏƒÎ· ÎµÎ´Î¬Ï†Î¿Ï…Ï‚ (ÎµÏ€Î¹Ï„Î¬Ï‡Ï…Î½ÏƒÎ· ÎµÎ¾Î¬Ï€Î»Ï‰ÏƒÎ·Ï‚)\nâ€¢ Î§Î±ÏÎ±ÎºÏ„Î·ÏÎ¹ÏƒÏ„Î¹ÎºÎ¬ ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½ (ÎºÎ±Ï…ÏƒÏ„Î¹ÎºÏŒÏ„Î·Ï„Î±)\nâ€¢ ÎšÎ±Î¹ÏÎ¹ÎºÎ­Ï‚ ÏƒÏ…Î½Î¸Î®ÎºÎµÏ‚ (Î´Ï…Î½Î±Î¼Î¹ÎºÏŒ Î±Î½Î¬Ï†Î»ÎµÎ¾Î·Ï‚)\nâ€¢ Î¤Î¿Ï€Î¿Î³ÏÎ±Ï†Î¹ÎºÎ­Ï‚ ÎµÏ€Î¹Î´ÏÎ¬ÏƒÎµÎ¹Ï‚ (Î¼Î¹ÎºÏÎ¿ÎºÎ»Î¯Î¼Î±)\n\nÎ¤Î¿ Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ${hazardPct}% Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î· ÏƒÏ‡ÎµÏ„Î¹ÎºÎ® Î­Î½Ï„Î±ÏƒÎ· Ï„Î¿Ï… ÎºÎ¹Î½Î´ÏÎ½Î¿Ï… Ï€Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚ ÏƒÎµ ÎºÎ»Î¯Î¼Î±ÎºÎ± 0-100%.`;
        } else if (currentLanguage === 'en') {
          message = `ğŸ”¥ ${tr.dangerTitle}\n\nCurrent Score: ${hazardPct}%\n\nThis index combines:\nâ€¢ Terrain slope (fire spread acceleration)\nâ€¢ Fuel characteristics (combustibility)\nâ€¢ Weather conditions (ignition potential)\nâ€¢ Topographic effects (microclimate)\n\nThe ${hazardPct}% score shows relative fire hazard intensity on a 0-100% scale.`;
        } else if (currentLanguage === 'es') {
          message = `ğŸ”¥ ${tr.dangerTitle}\n\nPuntuaciÃ³n Actual: ${hazardPct}%\n\nEste Ã­ndice combina:\nâ€¢ Pendiente del terreno (aceleraciÃ³n de propagaciÃ³n)\nâ€¢ CaracterÃ­sticas del combustible (combustibilidad)\nâ€¢ Condiciones meteorolÃ³gicas (potencial de igniciÃ³n)\nâ€¢ Efectos topogrÃ¡ficos (microclima)\n\nLa puntuaciÃ³n del ${hazardPct}% muestra la intensidad relativa del peligro de incendio en una escala de 0-100%.`;
        } else if (currentLanguage === 'it') {
          message = `ğŸ”¥ ${tr.dangerTitle}\n\nPunteggio Attuale: ${hazardPct}%\n\nQuesto indice combina:\nâ€¢ Pendenza del terreno (aceleraciÃ³n propagazione)\nâ€¢ Caratteristiche del combustibile (combustibilitÃ )\nâ€¢ Condizioni meteorologiche (potenziale di accensione)\nâ€¢ Effetti topografici (microclima)\n\nIl punteggio del ${hazardPct}% mostra l'intensitÃ  relativa del pericolo de incendio su una scala 0-100%.`;
        }

        showCustomAlert(tr.infoTitle, message);
      });

      document.getElementById('exposure-title').addEventListener('click', () => {
        const tr = translations[currentLanguage];
        const exposurePct = Math.round(computeExposureScore() * 100);

        let message = '';
        if (currentLanguage === 'el') {
          message = `ğŸ˜ï¸ ${tr.exposureTitle}\n\nÎ¤ÏÎ­Ï‡Î¿Î½ Score: ${exposurePct}%\n\nÎ‘Ï…Ï„ÏŒÏ‚ Î¿ Î´ÎµÎ¯ÎºÏ„Î·Ï‚ Î±Î¾Î¹Î¿Î»Î¿Î³ÎµÎ¯:\nâ€¢ Î Ï…ÎºÎ½ÏŒÏ„Î·Ï„Î± Ï€Î»Î·Î¸Ï…ÏƒÎ¼Î¿Ï ÎºÎ±Î¹ ÎºÏ„Î·ÏÎ¯Ï‰Î½\nâ€¢ Î Î±ÏÎ¿Ï…ÏƒÎ¯Î± ÎºÏÎ¯ÏƒÎ¹Î¼Ï‰Î½ Ï…Ï€Î¿Î´Î¿Î¼ÏÎ½\nâ€¢ Î•Î³Î³ÏÏ„Î·Ï„Î± ÏƒÎµ Î¿Î¹ÎºÎ¹ÏƒÎ¼Î¿ÏÏ‚\nâ€¢ ÎŸÎ¹ÎºÎ¿Î½Î¿Î¼Î¹ÎºÎ¬ Ï€ÎµÏÎ¹Î¿Ï…ÏƒÎ¹Î±ÎºÎ¬ ÏƒÏ„Î¿Î¹Ï‡ÎµÎ¯Î± ÏƒÎµ ÎºÎ¯Î½Î´Ï…Î½Î¿\n\nÎ¤Î¿ Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ${exposurePct}% Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î¿ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ Î­ÎºÎ¸ÎµÏƒÎ·Ï‚ ÏƒÎµ ÎºÎ»Î¯Î¼Î±ÎºÎ± 0-100%.`;
        } else if (currentLanguage === 'en') {
          message = `ğŸ˜ï¸ ${tr.exposureTitle}\n\nCurrent Score: ${exposurePct}%\n\nThis index evaluates:\nâ€¢ Population and building density\nâ€¢ Critical infrastructure presence\nâ€¢ Proximity to settlements\nâ€¢ Economic assets at risk\n\nThe ${exposurePct}% score shows exposure level on a 0-100% scale.`;
        } else if (currentLanguage === 'es') {
          message = `ğŸ˜ï¸ ${tr.exposureTitle}\n\nPuntuaciÃ³n Actual: ${exposurePct}%\n\nEste Ã­ndice evalÃºa:\nâ€¢ Densidad de poblaciÃ³n y edificios\nâ€¢ Presencia de infraestructura crÃ­tica\nâ€¢ Proximidad a asentamientos\nâ€¢ Activos econÃ³micos en riesgo\n\nLa puntuaciÃ³n del ${exposurePct}% muestra el nivel de exposiciÃ³n en una escala de 0-100%.`;
        } else if (currentLanguage === 'it') {
          message = `ğŸ˜ï¸ ${tr.exposureTitle}\n\nPunteggio Attuale: ${exposurePct}%\n\nQuesto indice valuta:\nâ€¢ DensitÃ  di popolazione e edifici\nâ€¢ Presenza di infrastrutture critiche\nâ€¢ ProssimitÃ  agli insediamenti\nâ€¢ Beni economici a rischio\n\nIl punteggio del ${exposurePct}% mostra il livello di esposizione su una scala 0-100%.`;
        }

        showCustomAlert(tr.infoTitle, message);
      });

      document.getElementById('vulnerability-title').addEventListener('click', () => {
        const tr = translations[currentLanguage];
        const vulnPct = Math.round(computeVulnerabilityScore() * 100);

        let message = '';
        if (currentLanguage === 'el') {
          message = `ğŸ›¡ï¸ ${tr.vulnTitle}\n\nÎ¤ÏÎ­Ï‡Î¿Î½ Score: ${vulnPct}%\n\nÎ‘Ï…Ï„ÏŒÏ‚ Î¿ Î´ÎµÎ¯ÎºÏ„Î·Ï‚ ÎµÎºÏ„Î¹Î¼Î¬:\nâ€¢ Î™ÎºÎ±Î½ÏŒÏ„Î·Ï„Î± Î­ÎºÏ„Î±ÎºÏ„Î·Ï‚ Î±Î½Î¬Î³ÎºÎ·Ï‚\nâ€¢ Î‘Î½Î¸ÎµÎºÏ„Î¹ÎºÏŒÏ„Î·Ï„Î± Ï…Ï€Î¿Î´Î¿Î¼ÏÎ½\nâ€¢ ÎšÎ¿Î¹Î½Ï‰Î½Î¹ÎºÎ¿ÏÏ‚ Ï€Î±ÏÎ¬Î³Î¿Î½Ï„ÎµÏ‚ Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚\nâ€¢ Î ÏÎ¿ÏƒÎ±ÏÎ¼Î¿ÏƒÏ„Î¹ÎºÎ® Î¹ÎºÎ±Î½ÏŒÏ„Î·Ï„Î±\n\nÎ¤Î¿ Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ${vulnPct}% Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î¿ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±Ï‚ ÏƒÎµ ÎºÎ»Î¯Î¼Î±ÎºÎ± 0-100%.`;
        } else if (currentLanguage === 'en') {
          message = `ğŸ›¡ï¸ ${tr.vulnTitle}\n\nCurrent Score: ${vulnPct}%\n\nThis index assesses:\nâ€¢ Emergency response capacity\nâ€¢ Infrastructure resilience\nâ€¢ Social vulnerability factors\nâ€¢ Adaptive capacity\n\nThe ${vulnPct}% score shows vulnerability level on a 0-100% scale.`;
        } else if (currentLanguage === 'es') {
          message = `ğŸ›¡ï¸ ${tr.vulnTitle}\n\nPuntuaciÃ³n Actual: ${vulnPct}%\n\nEste Ã­ndice evalÃºa:\nâ€¢ Capacidad de respuesta de emergencia\nâ€¢ Resistencia de infraestructura\nâ€¢ Factores de vulnerabilidad social\nâ€¢ Capacidad adaptativa\n\nLa puntuaciÃ³n del ${vulnPct}% muestra el nivel de vulnerabilidad en una escala de 0-100%.`;
        } else if (currentLanguage === 'it') {
          message = `ğŸ›¡ï¸ ${tr.vulnTitle}\n\nPunteggio Attuale: ${vulnPct}%\n\nQuesto indice valuta:\nâ€¢ CapacitÃ  di risposta di emergenza\nâ€¢ Resilienza delle infrastrutture\nâ€¢ Fattori di vulnerabilitÃ  sociale\nâ€¢ CapacitÃ  adattiva\n\nIl punteggio del ${vulnPct}% mostra il livello di vulnerabilitÃ  su una scala 0-100%.`;
        }

        showCustomAlert(tr.infoTitle, message);
      });

      document.getElementById('ignition-title').addEventListener('click', () => {
        const tr = translations[currentLanguage];
        const ignitionPct = Math.round(computeIgnitionProbability() * 100);

        let message = '';
        if (currentLanguage === 'el') {
          message = `âš¡ ${tr.ignitionTitle}\n\nÎ¤ÏÎ­Ï‡Î¿Î½ Score: ${ignitionPct}%\n\nÎ‘Ï…Ï„Î® Î· Ï€Î¹Î¸Î±Î½ÏŒÏ„Î·Ï„Î± ÎµÎ¾ÎµÏ„Î¬Î¶ÎµÎ¹:\nâ€¢ Î¥Î³ÏÎ±ÏƒÎ¯Î± ÎºÎ±Î¹ Ï„ÏÏ€Î¿ ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½\nâ€¢ ÎšÎ±Î¹ÏÎ¹ÎºÎ­Ï‚ ÏƒÏ…Î½Î¸Î®ÎºÎµÏ‚\nâ€¢ Î‘Î½Î¸ÏÏ‰Ï€Î¿Î³ÎµÎ½Î® Î´ÏÎ±ÏƒÏ„Î·ÏÎ¹ÏŒÏ„Î·Ï„Î± (WUI exposure)\nâ€¢ Î™ÏƒÏ„Î¿ÏÎ¹ÎºÎ¬ Ï€ÏÏŒÏ„Ï…Ï€Î± Î±Î½Î¬Ï†Î»ÎµÎ¾Î·Ï‚\n\nÎ¤Î¿ Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ${ignitionPct}% Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î·Î½ Ï€Î¹Î¸Î±Î½ÏŒÏ„Î·Ï„Î± Î­Î½Î±ÏÎ¾Î·Ï‚ Ï€Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚ ÏƒÎµ ÎºÎ»Î¯Î¼Î±ÎºÎ± 0-100%.`;
        } else if (currentLanguage === 'en') {
          message = `âš¡ ${tr.ignitionTitle}\n\nCurrent Score: ${ignitionPct}%\n\nThis probability considers:\nâ€¢ Fuel moisture and type\nâ€¢ Weather conditions\nâ€¢ Human activity (WUI exposure)\nâ€¢ Historical ignition patterns\n\nThe ${ignitionPct}% score shows fire initiation likelihood on a 0-100% scale.`;
        } else if (currentLanguage === 'es') {
          message = `âš¡ ${tr.ignitionTitle}\n\nPuntuaciÃ³n Actual: ${ignitionPct}%\n\nEsta probabilidad considera:\nâ€¢ Humedad y tipo de combustible\nâ€¢ Condiciones meteorolÃ³gicas\nâ€¢ Actividad humana (exposiciÃ³n WUI)\nâ€¢ Patrones histÃ³ricos de igniciÃ³n\n\nLa puntuaciÃ³n del ${ignitionPct}% muestra la probabilidad de inicio de incendio en una escala de 0-100%.`;
        } else if (currentLanguage === 'it') {
          message = `âš¡ ${tr.ignitionTitle}\n\nPunteggio Attuale: ${ignitionPct}%\n\nQuesta probabilitÃ  considera:\nâ€¢ UmiditÃ  e tipo di combustibile\nâ€¢ Condizioni meteorologiche\nâ€¢ AttivitÃ  umana (esposizione WUI)\nâ€¢ Modelli storici di accensione\n\nIl punteggio del ${ignitionPct}% mostra la probabilitÃ  di inizio incendio su una scala 0-100%.`;
        }

        showCustomAlert(tr.infoTitle, message);
      });

      document.getElementById('propagation-title').addEventListener('click', () => {
        const tr = translations[currentLanguage];
        const spreadPct = Math.round(computeFireSpreadPotential() * 100);

        let message = '';
        if (currentLanguage === 'el') {
          message = `ğŸŒ‹ ${tr.propagationTitle}\n\nÎ¤ÏÎ­Ï‡Î¿Î½ Score: ${spreadPct}%\n\nÎ‘Ï…Ï„ÏŒ Ï„Î¿ Î´Ï…Î½Î±Î¼Î¹ÎºÏŒ Î±Î¾Î¹Î¿Î»Î¿Î³ÎµÎ¯:\nâ€¢ Î•Ï€Î¹Î´ÏÎ¬ÏƒÎµÎ¹Ï‚ ÎµÎ´Î¬Ï†Î¿Ï…Ï‚ ÏƒÏ„Î· ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ Ï€Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚\nâ€¢ Î£Ï…Î½Î­Ï‡ÎµÎ¹Î± ÎºÎ±Î¹ Ï†Î¿ÏÏ„Î¯Î¿ ÎºÎ±Ï…ÏƒÎ¯Î¼Ï‰Î½\nâ€¢ ÎœÎµÏ„ÎµÏ‰ÏÎ¿Î»Î¿Î³Î¹ÎºÎ¿ÏÏ‚ Î¿Î´Î·Î³Î¿ÏÏ‚\nâ€¢ Î”Ï…ÏƒÎºÎ¿Î»Î¯Î± ÎºÎ±Ï„Î¬ÏƒÎ²ÎµÏƒÎ·Ï‚\n\nÎ¤Î¿ Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ${spreadPct}% Î´ÎµÎ¯Ï‡Î½ÎµÎ¹ Ï„Î¿ Î´Ï…Î½Î±Î¼Î¹ÎºÏŒ ÎµÎ¾Î¬Ï€Î»Ï‰ÏƒÎ·Ï‚ ÏƒÎµ ÎºÎ»Î¯Î¼Î±ÎºÎ± 0-100%.`;
        } else if (currentLanguage === 'en') {
          message = `ğŸŒ‹ ${tr.propagationTitle}\n\nCurrent Score: ${spreadPct}%\n\nThis potential evaluates:\nâ€¢ Terrain effects on fire behavior\nâ€¢ Fuel continuity and load\nâ€¢ Meteorological drivers\nâ€¢ Suppression difficulty\n\nThe ${spreadPct}% score shows fire spread potential on a 0-100% scale.`;
        } else if (currentLanguage === 'es') {
          message = `ğŸŒ‹ ${tr.propagationTitle}\n\nPuntuaciÃ³n Actual: ${spreadPct}%\n\nEste potencial evalÃºa:\nâ€¢ Efectos del terreno en el comportamiento del fuego\nâ€¢ Continuidad y carga de combustible\nâ€¢ Impulsores meteorolÃ³gicos\nâ€¢ Dificultad de supresiÃ³n\n\nLa puntuaciÃ³n del ${spreadPct}% muestra el potencial de propagaciÃ³n del fuego en una escala de 0-100%.`;
        } else if (currentLanguage === 'it') {
          message = `ğŸŒ‹ ${tr.propagationTitle}\n\nPunteggio Attuale: ${spreadPct}%\n\nQuesto potenziale valuta:\nâ€¢ Effetti del terreno sul comportamento del fuoco\nâ€¢ ContinuitÃ  e carico di combustibile\nâ€¢ Fattori meteorologici\nâ€¢ DifficoltÃ  di soppressione\n\nIl punteggio del ${spreadPct}% mostra il potenziale di propagazione del fuoco su una scala 0-100%.`;
        }

        showCustomAlert(tr.infoTitle, message);
      });

      document.getElementById('risk-title').addEventListener('click', () => {
        const tr = translations[currentLanguage];
        const riskPct = Math.round(computeIntegratedRisk() * 100);
        const weights = normalizeWeights();

        let weightInfo = '';
        if (currentLanguage === 'el') {
          weightInfo = `Î¤ÏÎ­Ï‡Î¿Î½Ï„Î± Î’Î¬ÏÎ·:\nâ€¢ ÎšÎ¯Î½Î´Ï…Î½Î¿Ï‚: ${Math.round(weights.hazard*100)}%\nâ€¢ ÎˆÎºÎ¸ÎµÏƒÎ·: ${Math.round(weights.exposure*100)}%\nâ€¢ Î¤ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±: ${Math.round(weights.vulnerability*100)}%\nâ€¢ Î‘Î½Î¬Ï†Î»ÎµÎ¾Î·: ${Math.round(weights.ignition*100)}%\nâ€¢ Î•Î¾Î¬Ï€Î»Ï‰ÏƒÎ·: ${Math.round(weights.propagation*100)}%\n\n`;
        } else if (currentLanguage === 'en') {
          weightInfo = `Current Weights:\nâ€¢ Hazard: ${Math.round(weights.hazard*100)}%\nâ€¢ Exposure: ${Math.round(weights.exposure*100)}%\nâ€¢ Vulnerability: ${Math.round(weights.vulnerability*100)}%\nâ€¢ Ignition: ${Math.round(weights.ignition*100)}%\nâ€¢ Spread: ${Math.round(weights.propagation*100)}%\n\n`;
        } else if (currentLanguage === 'es') {
          weightInfo = `Pesos Actuales:\nâ€¢ Peligro: ${Math.round(weights.hazard*100)}%\nâ€¢ ExposiciÃ³n: ${Math.round(weights.exposure*100)}%\nâ€¢ Vulnerabilidad: ${Math.round(weights.vulnerability*100)}%\nâ€¢ IgniciÃ³n: ${Math.round(weights.ignition*100)}%\nâ€¢ PropagaciÃ³n: ${Math.round(weights.propagation*100)}%\n\n`;
        } else if (currentLanguage === 'it') {
          weightInfo = `Pesi Attuali:\nâ€¢ Pericolo: ${Math.round(weights.hazard*100)}%\nâ€¢ Esposizione: ${Math.round(weights.exposure*100)}%\nâ€¢ VulnerabilitÃ : ${Math.round(weights.vulnerability*100)}%\nâ€¢ Innesco: ${Math.round(weights.ignition*100)}%\nâ€¢ Propagazione: ${Math.round(weights.propagation*100)}%\n\n`;
        }

        let message = '';
        if (currentLanguage === 'el') {
          message = `âš ï¸ ${tr.riskTitle}\n\nÎ¤ÏÎ­Ï‡Î¿Î½ Score: ${riskPct}%\n\n${weightInfo}Î‘Ï…Ï„Î® Î· Î¿Î»Î¿ÎºÎ»Î·ÏÏ‰Î¼Î­Î½Î· ÎµÎºÏ„Î¯Î¼Î·ÏƒÎ· ÏƒÏ…Î½Î´Ï…Î¬Î¶ÎµÎ¹:\nâ€¢ Î”Ï…Î½Î±Î¼Î¹ÎºÏŒ ÎºÎ¹Î½Î´ÏÎ½Î¿Ï… Ï€Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚\nâ€¢ Î”Ï…Î½Î±Î¼Î¹ÎºÎ® ÏƒÏ…Î¼Ï€ÎµÏÎ¹Ï†Î¿ÏÎ¬ Ï€Ï…ÏÎºÎ±Î³Î¹Î¬Ï‚\nâ€¢ Î‘Î½Î¸ÏÏÏ€Î¹Î½Î· Î­ÎºÎ¸ÎµÏƒÎ· & Ï„ÏÏ‰Ï„ÏŒÏ„Î·Ï„Î±\n\nÎ¤Î¿ Ï€Î¿ÏƒÎ¿ÏƒÏ„ÏŒ ${riskPct}% Î±Î½Ï„Î¹Ï€ÏÎ¿ÏƒÏ‰Ï€ÎµÏÎµÎ¹ Ï„Î¿ ÏƒÏ…Î½Î¿Î»Î¹ÎºÏŒ ÎµÏ€Î¯Ï€ÎµÎ´Î¿ ÎºÎ¹Î½Î´ÏÎ½Î¿Ï… Î³Î¹Î± ÏƒÏ‡ÎµÎ´Î¹Î±ÏƒÎ¼ÏŒ Î­ÎºÏ„Î±ÎºÏ„Î·Ï‚ Î±Î½Î¬Î³ÎºÎ·Ï‚.`;
        } else if (currentLanguage === 'en') {
          message = `âš ï¸ ${tr.riskTitle}\n\nCurrent Score: ${riskPct}%\n\n${weightInfo}This comprehensive assessment combines:\nâ€¢ Fire hazard potential\nâ€¢ Dynamic fire behavior\nâ€¢ Human exposure & vulnerability\n\nThe ${riskPct}% score represents overall wildfire risk for emergency planning.`;
        } else if (currentLanguage === 'es') {
          message = `âš ï¸ ${tr.riskTitle}\n\nPuntuaciÃ³n Actual: ${riskPct}%\n\n${weightInfo}Esta evaluaciÃ³n integral combina:\nâ€¢ Potencial de peligro de incendio\nâ€¢ Comportamiento dinÃ¡mico del fuego\nâ€¢ ExposiciÃ³n y vulnerabilidad humana\n\nLa puntuaciÃ³n del ${riskPct}% representa el riesgo general de incendio forestal para planificaciÃ³n de emergencia.`;
        } else if (currentLanguage === 'it') {
          message = `âš ï¸ ${tr.riskTitle}\n\nPunteggio Attuale: ${riskPct}%\n\n${weightInfo}Questa valutazione integrata combina:\nâ€¢ Potenziale di pericolo di incendio\nâ€¢ Comportamento dinamico del fuoco\nâ€¢ Esposizione e vulnerabilitÃ  umana\n\nIl punteggio del ${riskPct}% mostra il rischio generale di incendio boschivo per pianificazione di emergenza.`;
        }

        showCustomAlert(tr.infoTitle, message);
      });
    }

    /**********************************************
     * 9) INITIALIZATION
    **********************************************/

    langSelect.addEventListener('change', () => {
      currentLanguage = langSelect.value;
      updateLanguage();
      updateBars();
    });

    // Add all event listeners including weight controls
    const allControls = [
      slopeSlider, moistureSlider, elevSlider, windSlider,
      bldSlider, popSlider, dsSettSlider, roadAccessSlider,
      aspectSelect, fuelSelect, infrastructureSelect,
      emergencySelect, strucSelect, waterSelect, socioVulnSlider
    ];

    // Add weight controls - these now trigger normalizeWeights with the changed slider
    const weightControls = [
      hazardWeightSlider, exposureWeightSlider,
      vulnWeightSlider, ignitionWeightSlider, propagationWeightSlider
    ];

    allControls.forEach(el => {
      if (el) el.addEventListener('input', updateBars);
    });

    weightControls.forEach(el => {
      if (el) el.addEventListener('input', updateBars);
    });

    // Initialize the application
    updateLanguage();
    setupClickHandlers();
    updateBars();
  </script>
</body>
</html>